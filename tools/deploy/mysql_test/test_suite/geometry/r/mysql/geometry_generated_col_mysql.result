# ----------------------------------------------------------------------
# Base test of GEOMETRY spatial index.
# ----------------------------------------------------------------------
drop table if exists t1;
CREATE TABLE t1 (x INTEGER,
y INTEGER,
g POINT GENERATED ALWAYS AS (POINT(x, y)) NOT NULL SRID 0);
SHOW COLUMNS FROM t1;
Field	Type	Null	Key	Default	Extra
x	int(11)	YES		NULL	
y	int(11)	YES		NULL	
g	point	NO		point(`x`,`y`)	VIRTUAL GENERATED
INSERT INTO t1(x,y) VALUES (0, 0);
INSERT INTO t1(x,y) VALUES (0.1, 0.1);
SELECT x,y,st_astext(g) FROM t1 ORDER BY x;
x	y	st_astext(g)
0	0	POINT(0 0)
0	0	POINT(0 0)
DROP TABLE t1;
CREATE TABLE t1 (x INTEGER,
y INTEGER,
g POINT GENERATED ALWAYS AS (POINT(x, y)) NOT NULL SRID 4326);
SHOW COLUMNS FROM t1;
Field	Type	Null	Key	Default	Extra
x	int(11)	YES		NULL	
y	int(11)	YES		NULL	
g	point	NO		point(`x`,`y`)	VIRTUAL GENERATED
INSERT INTO t1(x,y) VALUES (0, 0);
ERROR HY000: The SRID of the geometry does not match the SRID of the column. The SRID of the geometry is 0, but the SRID of the column is 4326. Consider changing the SRID of the geometry or the SRID property of the column.
INSERT INTO t1(x,y) VALUES (0.1, 0.1);
ERROR HY000: The SRID of the geometry does not match the SRID of the column. The SRID of the geometry is 0, but the SRID of the column is 4326. Consider changing the SRID of the geometry or the SRID property of the column.
SELECT x,y,st_astext(g) FROM t1 ORDER BY x;
x	y	st_astext(g)
DROP TABLE t1;
CREATE TABLE t1 (x INTEGER,
y INTEGER,
g POINT GENERATED ALWAYS AS (ST_GEOMFROMTEXT('POINT(1 1)', 4326)) STORED NOT NULL SRID 4326);
SHOW COLUMNS FROM t1;
Field	Type	Null	Key	Default	Extra
x	int(11)	YES		NULL	
y	int(11)	YES		NULL	
g	point	NO		ST_GEOMFROMTEXT('POINT(1 1)',4326)	STORED GENERATED
INSERT INTO t1(x,y) VALUES (0, 0);
INSERT INTO t1(x,y) VALUES (0.1, 0.1);
DROP TABLE t1;
CREATE TABLE t1 (x INTEGER,
y INTEGER,
g POINT GENERATED ALWAYS AS (ST_GEOMFROMTEXT('POINT(1 1)', 0)) STORED NOT NULL SRID 4326);
SHOW COLUMNS FROM t1;
Field	Type	Null	Key	Default	Extra
x	int(11)	YES		NULL	
y	int(11)	YES		NULL	
g	point	NO		ST_GEOMFROMTEXT('POINT(1 1)',0)	STORED GENERATED
INSERT INTO t1(x,y) VALUES (0, 0);
ERROR HY000: The SRID of the geometry does not match the SRID of the column. The SRID of the geometry is 0, but the SRID of the column is 4326. Consider changing the SRID of the geometry or the SRID property of the column.
INSERT INTO t1(x,y) VALUES (0.1, 0.1);
ERROR HY000: The SRID of the geometry does not match the SRID of the column. The SRID of the geometry is 0, but the SRID of the column is 4326. Consider changing the SRID of the geometry or the SRID property of the column.
DROP TABLE t1;
CREATE TABLE t1 (g GEOMETRY NOT NULL SRID 4326,
i INT GENERATED ALWAYS AS (ST_INTERSECTS(ST_GEOMFROMTEXT('POINT(0 0)', 4326), g)));
SHOW COLUMNS FROM t1;
Field	Type	Null	Key	Default	Extra
g	geometry	NO		NULL	
i	int(11)	YES		ST_INTERSECTS(ST_GEOMFROMTEXT('POINT(0 0)',4326),`g`)	VIRTUAL GENERATED
INSERT INTO t1(g) VALUES (ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)))', 4326));
SELECT i,st_astext(g) FROM t1 ORDER BY i;
i	st_astext(g)
1	MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)))
DROP TABLE t1;
CREATE TABLE t1 (g GEOMETRY NOT NULL SRID 4326,
i INT GENERATED ALWAYS AS (ST_INTERSECTS(ST_GEOMFROMTEXT('POINT(0 0)', 4326), g)));
SHOW COLUMNS FROM t1;
Field	Type	Null	Key	Default	Extra
g	geometry	NO		NULL	
i	int(11)	YES		ST_INTERSECTS(ST_GEOMFROMTEXT('POINT(0 0)',4326),`g`)	VIRTUAL GENERATED
INSERT INTO t1(g) VALUES (ST_GEOMFROMTEXT('MULTIPOLYGON(((1 1,10 0,10 10,0 10,1 1)))', 4326));
SELECT i,st_astext(g) FROM t1 ORDER BY i;
i	st_astext(g)
0	MULTIPOLYGON(((1 1,10 0,10 10,0 10,1 1)))
DROP TABLE t1;
CREATE TABLE t1 (g GEOMETRY NOT NULL SRID 4326,
i INT GENERATED ALWAYS AS (ST_INTERSECTS(g, ST_GEOMFROMTEXT('POINT(0 0)', 4326))));
SHOW COLUMNS FROM t1;
Field	Type	Null	Key	Default	Extra
g	geometry	NO		NULL	
i	int(11)	YES		ST_INTERSECTS(`g`,ST_GEOMFROMTEXT('POINT(0 0)',4326))	VIRTUAL GENERATED
INSERT INTO t1(g) VALUES (ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)))', 4326));
SELECT i,st_astext(g) FROM t1 ORDER BY i;
i	st_astext(g)
1	MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)))
DROP TABLE t1;
CREATE TABLE t1 (g GEOMETRY NOT NULL SRID 4326,
i INT GENERATED ALWAYS AS (ST_INTERSECTS(g, ST_GEOMFROMTEXT('POINT(0 0)', 4326))));
SHOW COLUMNS FROM t1;
Field	Type	Null	Key	Default	Extra
g	geometry	NO		NULL	
i	int(11)	YES		ST_INTERSECTS(`g`,ST_GEOMFROMTEXT('POINT(0 0)',4326))	VIRTUAL GENERATED
INSERT INTO t1(g) VALUES (ST_GEOMFROMTEXT('MULTIPOLYGON(((1 1,10 0,10 10,0 10,1 1)))', 4326));
SELECT i,st_astext(g) FROM t1 ORDER BY i;
i	st_astext(g)
0	MULTIPOLYGON(((1 1,10 0,10 10,0 10,1 1)))
DROP TABLE t1;
CREATE TABLE t1 (g GEOMETRY NOT NULL SRID 4326,
i INT GENERATED ALWAYS AS (ST_INTERSECTS(ST_GEOMFROMTEXT('POINT(0 0)', 4326), g)) STORED);
SHOW COLUMNS FROM t1;
Field	Type	Null	Key	Default	Extra
g	geometry	NO		NULL	
i	int(11)	YES		ST_INTERSECTS(ST_GEOMFROMTEXT('POINT(0 0)',4326),`g`)	STORED GENERATED
INSERT INTO t1(g) VALUES (ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)))', 4326));
SELECT i,st_astext(g) FROM t1 ORDER BY i;
i	st_astext(g)
1	MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)))
DROP TABLE t1;
CREATE TABLE t1 (g GEOMETRY NOT NULL SRID 4326,
i INT GENERATED ALWAYS AS (ST_INTERSECTS(ST_GEOMFROMTEXT('POINT(0 0)', 4326), g)) STORED);
SHOW COLUMNS FROM t1;
Field	Type	Null	Key	Default	Extra
g	geometry	NO		NULL	
i	int(11)	YES		ST_INTERSECTS(ST_GEOMFROMTEXT('POINT(0 0)',4326),`g`)	STORED GENERATED
INSERT INTO t1(g) VALUES (ST_GEOMFROMTEXT('MULTIPOLYGON(((1 1,10 0,10 10,0 10,1 1)))', 4326));
SELECT i,st_astext(g) FROM t1 ORDER BY i;
i	st_astext(g)
0	MULTIPOLYGON(((1 1,10 0,10 10,0 10,1 1)))
DROP TABLE t1;
CREATE TABLE t1 (g GEOMETRY NOT NULL SRID 4326,
i INT GENERATED ALWAYS AS (ST_INTERSECTS(g, ST_GEOMFROMTEXT('POINT(0 0)', 4326))) STORED);
SHOW COLUMNS FROM t1;
Field	Type	Null	Key	Default	Extra
g	geometry	NO		NULL	
i	int(11)	YES		ST_INTERSECTS(`g`,ST_GEOMFROMTEXT('POINT(0 0)',4326))	STORED GENERATED
INSERT INTO t1(g) VALUES (ST_GEOMFROMTEXT('MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)))', 4326));
SELECT i,st_astext(g) FROM t1 ORDER BY i;
i	st_astext(g)
1	MULTIPOLYGON(((0 0,10 0,10 10,0 10,0 0)))
DROP TABLE t1;
CREATE TABLE t1 (g GEOMETRY NOT NULL SRID 4326,
i INT GENERATED ALWAYS AS (ST_INTERSECTS(g, ST_GEOMFROMTEXT('POINT(0 0)', 4326))) STORED);
SHOW COLUMNS FROM t1;
Field	Type	Null	Key	Default	Extra
g	geometry	NO		NULL	
i	int(11)	YES		ST_INTERSECTS(`g`,ST_GEOMFROMTEXT('POINT(0 0)',4326))	STORED GENERATED
INSERT INTO t1(g) VALUES (ST_GEOMFROMTEXT('MULTIPOLYGON(((1 1,10 0,10 10,0 10,1 1)))', 4326));
SELECT i,st_astext(g) FROM t1 ORDER BY i;
i	st_astext(g)
0	MULTIPOLYGON(((1 1,10 0,10 10,0 10,1 1)))
DROP TABLE t1;
CREATE TABLE t1(id INT, p POLYGON GENERATED ALWAYS AS (ST_GeomFromText('POINT(15 20)',0)) STORED);
INSERT INTO t1(id) VALUES (1);
ERROR 22003: Cannot get geometry object from data you send to the GEOMETRY field.
DROP TABLE t1;
drop table if exists t2;
create table t2(
id bigint not null auto_increment primary key,
person json not null,
name char(20) as (json_value(person, '$.name' returning char)) virtual,
age int as (json_value(person, '$.age' returning signed)) virtual,
gis geometry not null srid 0,
index idx_name(name),
index idx_age(age),
spatial index idx_gis(gis)
);
set @g = 'POINT(1 1)';
insert into t2(id, person, gis) values (1, '{"name": "tom", "age": 18}', ST_GeomFromText(@g));
select st_astext(gis) from t2 where st_intersects(gis, st_geomfromtext('POINT(1 1)'));
st_astext(gis)
POINT(1 1)
update t2 set gis=st_geomfromtext('POINT(1 0)');
select st_astext(gis) from t2 where st_intersects(gis, st_geomfromtext('POINT(1 1)'));
st_astext(gis)
select st_astext(gis) from t2 where st_intersects(gis, st_geomfromtext('POINT(1 0)'));
st_astext(gis)
POINT(1 0)
drop table t2;
drop table if exists receivable_items;
CREATE TABLE `receivable_items` (
`from_unit` int NOT NULL,
`to_unit` int NOT NULL,
`unit_range` linestring GENERATED ALWAYS AS (linestring(point(-(1),`from_unit`),point(1,`to_unit`))) STORED NOT NULL srid 0,
`unit_point` point GENERATED ALWAYS AS (point(-(1),`from_unit`)) STORED NOT NULL srid 0,
`unit_polygon` POLYGON GENERATED ALWAYS AS (POLYGON(LINESTRING(POINT(`from_unit`,0), POINT(`from_unit`,15), POINT(`to_unit`,0), POINT(`from_unit`,0)))) STORED NOT NULL srid 0,
`unit_multipoint` multipoint GENERATED ALWAYS AS (multipoint(point(-(1),`from_unit`),point(1,`to_unit`))) STORED NOT NULL srid 0,
`unit_multiline` multilinestring GENERATED ALWAYS AS (multilinestring(linestring(point(-(1),`from_unit`),point(1,`to_unit`)))) STORED NOT NULL srid 0,
`unit_multipolygon` multipolygon GENERATED ALWAYS AS (multipolygon(POLYGON(LINESTRING(POINT(`from_unit`,0), POINT(`from_unit`,15), POINT(`to_unit`,0), POINT(`from_unit`,0))))) STORED NOT NULL srid 0,
SPATIAL KEY `idx_unit_range` (`unit_range`),
SPATIAL KEY `idx_unit_point` (`unit_point`),
SPATIAL KEY `idx_unit_polygon` (`unit_polygon`),
SPATIAL KEY `idx_unit_multipoint` (`unit_multipoint`),
SPATIAL KEY `idx_unit_multiline` (`unit_multiline`),
SPATIAL KEY `idx_unit_multipoly` (`unit_multipolygon`)
);
insert into receivable_items(from_unit, to_unit) values(120, 122), (10, 11), (21, 25), (33, 36), (-10, 10);
select st_astext(unit_point), st_astext(unit_range), st_astext(unit_polygon),st_astext(unit_multipoint),st_astext(unit_multiline),st_astext(unit_multipolygon) from receivable_items;
st_astext(unit_point)	st_astext(unit_range)	st_astext(unit_polygon)	st_astext(unit_multipoint)	st_astext(unit_multiline)	st_astext(unit_multipolygon)
POINT(-1 120)	LINESTRING(-1 120,1 122)	POLYGON((120 0,120 15,122 0,120 0))	MULTIPOINT((-1 120),(1 122))	MULTILINESTRING((-1 120,1 122))	MULTIPOLYGON(((120 0,120 15,122 0,120 0)))
POINT(-1 10)	LINESTRING(-1 10,1 11)	POLYGON((10 0,10 15,11 0,10 0))	MULTIPOINT((-1 10),(1 11))	MULTILINESTRING((-1 10,1 11))	MULTIPOLYGON(((10 0,10 15,11 0,10 0)))
POINT(-1 21)	LINESTRING(-1 21,1 25)	POLYGON((21 0,21 15,25 0,21 0))	MULTIPOINT((-1 21),(1 25))	MULTILINESTRING((-1 21,1 25))	MULTIPOLYGON(((21 0,21 15,25 0,21 0)))
POINT(-1 33)	LINESTRING(-1 33,1 36)	POLYGON((33 0,33 15,36 0,33 0))	MULTIPOINT((-1 33),(1 36))	MULTILINESTRING((-1 33,1 36))	MULTIPOLYGON(((33 0,33 15,36 0,33 0)))
POINT(-1 -10)	LINESTRING(-1 -10,1 10)	POLYGON((-10 0,-10 15,10 0,-10 0))	MULTIPOINT((-1 -10),(1 10))	MULTILINESTRING((-1 -10,1 10))	MULTIPOLYGON(((-10 0,-10 15,10 0,-10 0)))
explain select from_unit, to_unit, st_astext(unit_point) from receivable_items where st_intersects(unit_point, point(-1, 120));
Query Plan
============================================================================
|ID|OPERATOR        |NAME                            |EST.ROWS|EST.TIME(us)|
----------------------------------------------------------------------------
|0 |TABLE RANGE SCAN|receivable_items(idx_unit_point)|1       |158         |
============================================================================
Outputs & filters:
-------------------------------------
  0 - output([receivable_items.from_unit], [receivable_items.to_unit], [st_astext(receivable_items.unit_point)]), filter([st_intersects(receivable_items.unit_point,
       point(cast(-1, DOUBLE(-1, -1)), cast(120, DOUBLE(-1, -1))))])
      access([receivable_items.__pk_increment], [receivable_items.from_unit], [receivable_items.to_unit], [receivable_items.unit_point]), partitions(p0)
      is_index_back=true, is_global_index=false, filter_before_indexback[false], 
      range_key([receivable_items.__cellid_19], [receivable_items.__mbr_19], [receivable_items.__pk_increment]), range(1152921504606846292,MIN,MIN ; 1152921504606846292,
      MAX,MAX), (1152921504606846288,MIN,MIN ; 1152921504606846288,MAX,MAX), (1152921504606846272,MIN,MIN ; 1152921504606846272,MAX,MAX), (1152921504606846208,
      MIN,MIN ; 1152921504606846208,MAX,MAX), (1152921504606845952,MIN,MIN ; 1152921504606845952,MAX,MAX), (1152921504606842880,MIN,MIN ; 1152921504606842880,
      MAX,MAX), (1152921504606830592,MIN,MIN ; 1152921504606830592,MAX,MAX), (1152921504606781440,MIN,MIN ; 1152921504606781440,MAX,MAX), (1152921504606584832,
      MIN,MIN ; 1152921504606584832,MAX,MAX), (1152921504605798400,MIN,MIN ; 1152921504605798400,MAX,MAX), (1152921504602652672,MIN,MIN ; 1152921504602652672,
      MAX,MAX), (1152921504590069760,MIN,MIN ; 1152921504590069760,MAX,MAX), (1152921504539738112,MIN,MIN ; 1152921504539738112,MAX,MAX), (1152921504338411520,
      MIN,MIN ; 1152921504338411520,MAX,MAX), (1152921503533105152,MIN,MIN ; 1152921503533105152,MAX,MAX), (1152921500311879680,MIN,MIN ; 1152921500311879680,
      MAX,MAX), (1152921487426977792,MIN,MIN ; 1152921487426977792,MAX,MAX), (1152921435887370240,MIN,MIN ; 1152921435887370240,MAX,MAX), (1152921229728940032,
      MIN,MIN ; 1152921229728940032,MAX,MAX), (1152920405095219200,MIN,MIN ; 1152920405095219200,MAX,MAX), (1152917106560335872,MIN,MIN ; 1152917106560335872,
      MAX,MAX), (1152903912420802560,MIN,MIN ; 1152903912420802560,MAX,MAX), (1152851135862669312,MIN,MIN ; 1152851135862669312,MAX,MAX), (1152640029630136320,
      MIN,MIN ; 1152640029630136320,MAX,MAX), (1151795604700004352,MIN,MIN ; 1151795604700004352,MAX,MAX), (1148417904979476480,MIN,MIN ; 1148417904979476480,
      MAX,MAX), (1134907106097364992,MIN,MIN ; 1134907106097364992,MAX,MAX), (1080863910568919040,MIN,MIN ; 1080863910568919040,MAX,MAX), (864691128455135232,
      MIN,MIN ; 864691128455135232,MAX,MAX), (1152921504606846976,MIN,MIN ; 1152921504606846976,MAX,MAX), (1152921504606846295,MIN,MIN ; 1152921504606846295,MAX,
      MAX)
explain select from_unit, to_unit, st_astext(unit_polygon) from receivable_items where st_intersects(unit_polygon, point(-1, 120));
Query Plan
==============================================================================
|ID|OPERATOR        |NAME                              |EST.ROWS|EST.TIME(us)|
------------------------------------------------------------------------------
|0 |TABLE RANGE SCAN|receivable_items(idx_unit_polygon)|1       |158         |
==============================================================================
Outputs & filters:
-------------------------------------
  0 - output([receivable_items.from_unit], [receivable_items.to_unit], [st_astext(receivable_items.unit_polygon)]), filter([st_intersects(receivable_items.unit_polygon,
       point(cast(-1, DOUBLE(-1, -1)), cast(120, DOUBLE(-1, -1))))])
      access([receivable_items.__pk_increment], [receivable_items.from_unit], [receivable_items.to_unit], [receivable_items.unit_polygon]), partitions(p0)
      is_index_back=true, is_global_index=false, filter_before_indexback[false], 
      range_key([receivable_items.__cellid_20], [receivable_items.__mbr_20], [receivable_items.__pk_increment]), range(1152921504606846292,MIN,MIN ; 1152921504606846292,
      MAX,MAX), (1152921504606846288,MIN,MIN ; 1152921504606846288,MAX,MAX), (1152921504606846272,MIN,MIN ; 1152921504606846272,MAX,MAX), (1152921504606846208,
      MIN,MIN ; 1152921504606846208,MAX,MAX), (1152921504606845952,MIN,MIN ; 1152921504606845952,MAX,MAX), (1152921504606842880,MIN,MIN ; 1152921504606842880,
      MAX,MAX), (1152921504606830592,MIN,MIN ; 1152921504606830592,MAX,MAX), (1152921504606781440,MIN,MIN ; 1152921504606781440,MAX,MAX), (1152921504606584832,
      MIN,MIN ; 1152921504606584832,MAX,MAX), (1152921504605798400,MIN,MIN ; 1152921504605798400,MAX,MAX), (1152921504602652672,MIN,MIN ; 1152921504602652672,
      MAX,MAX), (1152921504590069760,MIN,MIN ; 1152921504590069760,MAX,MAX), (1152921504539738112,MIN,MIN ; 1152921504539738112,MAX,MAX), (1152921504338411520,
      MIN,MIN ; 1152921504338411520,MAX,MAX), (1152921503533105152,MIN,MIN ; 1152921503533105152,MAX,MAX), (1152921500311879680,MIN,MIN ; 1152921500311879680,
      MAX,MAX), (1152921487426977792,MIN,MIN ; 1152921487426977792,MAX,MAX), (1152921435887370240,MIN,MIN ; 1152921435887370240,MAX,MAX), (1152921229728940032,
      MIN,MIN ; 1152921229728940032,MAX,MAX), (1152920405095219200,MIN,MIN ; 1152920405095219200,MAX,MAX), (1152917106560335872,MIN,MIN ; 1152917106560335872,
      MAX,MAX), (1152903912420802560,MIN,MIN ; 1152903912420802560,MAX,MAX), (1152851135862669312,MIN,MIN ; 1152851135862669312,MAX,MAX), (1152640029630136320,
      MIN,MIN ; 1152640029630136320,MAX,MAX), (1151795604700004352,MIN,MIN ; 1151795604700004352,MAX,MAX), (1148417904979476480,MIN,MIN ; 1148417904979476480,
      MAX,MAX), (1134907106097364992,MIN,MIN ; 1134907106097364992,MAX,MAX), (1080863910568919040,MIN,MIN ; 1080863910568919040,MAX,MAX), (864691128455135232,
      MIN,MIN ; 864691128455135232,MAX,MAX), (1152921504606846976,MIN,MIN ; 1152921504606846976,MAX,MAX), (1152921504606846295,MIN,MIN ; 1152921504606846295,MAX,
      MAX)
explain select from_unit, to_unit, st_astext(unit_multipoint) from receivable_items where st_intersects(unit_multipoint, point(-1, 120));
Query Plan
=================================================================================
|ID|OPERATOR        |NAME                                 |EST.ROWS|EST.TIME(us)|
---------------------------------------------------------------------------------
|0 |TABLE RANGE SCAN|receivable_items(idx_unit_multipoint)|1       |158         |
=================================================================================
Outputs & filters:
-------------------------------------
  0 - output([receivable_items.from_unit], [receivable_items.to_unit], [st_astext(receivable_items.unit_multipoint)]), filter([st_intersects(receivable_items.unit_multipoint,
       point(cast(-1, DOUBLE(-1, -1)), cast(120, DOUBLE(-1, -1))))])
      access([receivable_items.__pk_increment], [receivable_items.from_unit], [receivable_items.to_unit], [receivable_items.unit_multipoint]), partitions(p0)
      is_index_back=true, is_global_index=false, filter_before_indexback[false], 
      range_key([receivable_items.__cellid_21], [receivable_items.__mbr_21], [receivable_items.__pk_increment]), range(1152921504606846292,MIN,MIN ; 1152921504606846292,
      MAX,MAX), (1152921504606846288,MIN,MIN ; 1152921504606846288,MAX,MAX), (1152921504606846272,MIN,MIN ; 1152921504606846272,MAX,MAX), (1152921504606846208,
      MIN,MIN ; 1152921504606846208,MAX,MAX), (1152921504606845952,MIN,MIN ; 1152921504606845952,MAX,MAX), (1152921504606842880,MIN,MIN ; 1152921504606842880,
      MAX,MAX), (1152921504606830592,MIN,MIN ; 1152921504606830592,MAX,MAX), (1152921504606781440,MIN,MIN ; 1152921504606781440,MAX,MAX), (1152921504606584832,
      MIN,MIN ; 1152921504606584832,MAX,MAX), (1152921504605798400,MIN,MIN ; 1152921504605798400,MAX,MAX), (1152921504602652672,MIN,MIN ; 1152921504602652672,
      MAX,MAX), (1152921504590069760,MIN,MIN ; 1152921504590069760,MAX,MAX), (1152921504539738112,MIN,MIN ; 1152921504539738112,MAX,MAX), (1152921504338411520,
      MIN,MIN ; 1152921504338411520,MAX,MAX), (1152921503533105152,MIN,MIN ; 1152921503533105152,MAX,MAX), (1152921500311879680,MIN,MIN ; 1152921500311879680,
      MAX,MAX), (1152921487426977792,MIN,MIN ; 1152921487426977792,MAX,MAX), (1152921435887370240,MIN,MIN ; 1152921435887370240,MAX,MAX), (1152921229728940032,
      MIN,MIN ; 1152921229728940032,MAX,MAX), (1152920405095219200,MIN,MIN ; 1152920405095219200,MAX,MAX), (1152917106560335872,MIN,MIN ; 1152917106560335872,
      MAX,MAX), (1152903912420802560,MIN,MIN ; 1152903912420802560,MAX,MAX), (1152851135862669312,MIN,MIN ; 1152851135862669312,MAX,MAX), (1152640029630136320,
      MIN,MIN ; 1152640029630136320,MAX,MAX), (1151795604700004352,MIN,MIN ; 1151795604700004352,MAX,MAX), (1148417904979476480,MIN,MIN ; 1148417904979476480,
      MAX,MAX), (1134907106097364992,MIN,MIN ; 1134907106097364992,MAX,MAX), (1080863910568919040,MIN,MIN ; 1080863910568919040,MAX,MAX), (864691128455135232,
      MIN,MIN ; 864691128455135232,MAX,MAX), (1152921504606846976,MIN,MIN ; 1152921504606846976,MAX,MAX), (1152921504606846295,MIN,MIN ; 1152921504606846295,MAX,
      MAX)
explain select from_unit, to_unit, st_astext(unit_multiline) from receivable_items where st_intersects(unit_multiline, point(-1, 120));
Query Plan
================================================================================
|ID|OPERATOR        |NAME                                |EST.ROWS|EST.TIME(us)|
--------------------------------------------------------------------------------
|0 |TABLE RANGE SCAN|receivable_items(idx_unit_multiline)|1       |158         |
================================================================================
Outputs & filters:
-------------------------------------
  0 - output([receivable_items.from_unit], [receivable_items.to_unit], [st_astext(receivable_items.unit_multiline)]), filter([st_intersects(receivable_items.unit_multiline,
       point(cast(-1, DOUBLE(-1, -1)), cast(120, DOUBLE(-1, -1))))])
      access([receivable_items.__pk_increment], [receivable_items.from_unit], [receivable_items.to_unit], [receivable_items.unit_multiline]), partitions(p0)
      is_index_back=true, is_global_index=false, filter_before_indexback[false], 
      range_key([receivable_items.__cellid_22], [receivable_items.__mbr_22], [receivable_items.__pk_increment]), range(1152921504606846292,MIN,MIN ; 1152921504606846292,
      MAX,MAX), (1152921504606846288,MIN,MIN ; 1152921504606846288,MAX,MAX), (1152921504606846272,MIN,MIN ; 1152921504606846272,MAX,MAX), (1152921504606846208,
      MIN,MIN ; 1152921504606846208,MAX,MAX), (1152921504606845952,MIN,MIN ; 1152921504606845952,MAX,MAX), (1152921504606842880,MIN,MIN ; 1152921504606842880,
      MAX,MAX), (1152921504606830592,MIN,MIN ; 1152921504606830592,MAX,MAX), (1152921504606781440,MIN,MIN ; 1152921504606781440,MAX,MAX), (1152921504606584832,
      MIN,MIN ; 1152921504606584832,MAX,MAX), (1152921504605798400,MIN,MIN ; 1152921504605798400,MAX,MAX), (1152921504602652672,MIN,MIN ; 1152921504602652672,
      MAX,MAX), (1152921504590069760,MIN,MIN ; 1152921504590069760,MAX,MAX), (1152921504539738112,MIN,MIN ; 1152921504539738112,MAX,MAX), (1152921504338411520,
      MIN,MIN ; 1152921504338411520,MAX,MAX), (1152921503533105152,MIN,MIN ; 1152921503533105152,MAX,MAX), (1152921500311879680,MIN,MIN ; 1152921500311879680,
      MAX,MAX), (1152921487426977792,MIN,MIN ; 1152921487426977792,MAX,MAX), (1152921435887370240,MIN,MIN ; 1152921435887370240,MAX,MAX), (1152921229728940032,
      MIN,MIN ; 1152921229728940032,MAX,MAX), (1152920405095219200,MIN,MIN ; 1152920405095219200,MAX,MAX), (1152917106560335872,MIN,MIN ; 1152917106560335872,
      MAX,MAX), (1152903912420802560,MIN,MIN ; 1152903912420802560,MAX,MAX), (1152851135862669312,MIN,MIN ; 1152851135862669312,MAX,MAX), (1152640029630136320,
      MIN,MIN ; 1152640029630136320,MAX,MAX), (1151795604700004352,MIN,MIN ; 1151795604700004352,MAX,MAX), (1148417904979476480,MIN,MIN ; 1148417904979476480,
      MAX,MAX), (1134907106097364992,MIN,MIN ; 1134907106097364992,MAX,MAX), (1080863910568919040,MIN,MIN ; 1080863910568919040,MAX,MAX), (864691128455135232,
      MIN,MIN ; 864691128455135232,MAX,MAX), (1152921504606846976,MIN,MIN ; 1152921504606846976,MAX,MAX), (1152921504606846295,MIN,MIN ; 1152921504606846295,MAX,
      MAX)
explain select from_unit, to_unit, st_astext(unit_multipolygon) from receivable_items where st_intersects(unit_multipolygon, point(-1, 120));
Query Plan
================================================================================
|ID|OPERATOR        |NAME                                |EST.ROWS|EST.TIME(us)|
--------------------------------------------------------------------------------
|0 |TABLE RANGE SCAN|receivable_items(idx_unit_multipoly)|1       |158         |
================================================================================
Outputs & filters:
-------------------------------------
  0 - output([receivable_items.from_unit], [receivable_items.to_unit], [st_astext(receivable_items.unit_multipolygon)]), filter([st_intersects(receivable_items.unit_multipolygon,
       point(cast(-1, DOUBLE(-1, -1)), cast(120, DOUBLE(-1, -1))))])
      access([receivable_items.__pk_increment], [receivable_items.from_unit], [receivable_items.to_unit], [receivable_items.unit_multipolygon]), partitions(p0)
      is_index_back=true, is_global_index=false, filter_before_indexback[false], 
      range_key([receivable_items.__cellid_23], [receivable_items.__mbr_23], [receivable_items.__pk_increment]), range(1152921504606846292,MIN,MIN ; 1152921504606846292,
      MAX,MAX), (1152921504606846288,MIN,MIN ; 1152921504606846288,MAX,MAX), (1152921504606846272,MIN,MIN ; 1152921504606846272,MAX,MAX), (1152921504606846208,
      MIN,MIN ; 1152921504606846208,MAX,MAX), (1152921504606845952,MIN,MIN ; 1152921504606845952,MAX,MAX), (1152921504606842880,MIN,MIN ; 1152921504606842880,
      MAX,MAX), (1152921504606830592,MIN,MIN ; 1152921504606830592,MAX,MAX), (1152921504606781440,MIN,MIN ; 1152921504606781440,MAX,MAX), (1152921504606584832,
      MIN,MIN ; 1152921504606584832,MAX,MAX), (1152921504605798400,MIN,MIN ; 1152921504605798400,MAX,MAX), (1152921504602652672,MIN,MIN ; 1152921504602652672,
      MAX,MAX), (1152921504590069760,MIN,MIN ; 1152921504590069760,MAX,MAX), (1152921504539738112,MIN,MIN ; 1152921504539738112,MAX,MAX), (1152921504338411520,
      MIN,MIN ; 1152921504338411520,MAX,MAX), (1152921503533105152,MIN,MIN ; 1152921503533105152,MAX,MAX), (1152921500311879680,MIN,MIN ; 1152921500311879680,
      MAX,MAX), (1152921487426977792,MIN,MIN ; 1152921487426977792,MAX,MAX), (1152921435887370240,MIN,MIN ; 1152921435887370240,MAX,MAX), (1152921229728940032,
      MIN,MIN ; 1152921229728940032,MAX,MAX), (1152920405095219200,MIN,MIN ; 1152920405095219200,MAX,MAX), (1152917106560335872,MIN,MIN ; 1152917106560335872,
      MAX,MAX), (1152903912420802560,MIN,MIN ; 1152903912420802560,MAX,MAX), (1152851135862669312,MIN,MIN ; 1152851135862669312,MAX,MAX), (1152640029630136320,
      MIN,MIN ; 1152640029630136320,MAX,MAX), (1151795604700004352,MIN,MIN ; 1151795604700004352,MAX,MAX), (1148417904979476480,MIN,MIN ; 1148417904979476480,
      MAX,MAX), (1134907106097364992,MIN,MIN ; 1134907106097364992,MAX,MAX), (1080863910568919040,MIN,MIN ; 1080863910568919040,MAX,MAX), (864691128455135232,
      MIN,MIN ; 864691128455135232,MAX,MAX), (1152921504606846976,MIN,MIN ; 1152921504606846976,MAX,MAX), (1152921504606846295,MIN,MIN ; 1152921504606846295,MAX,
      MAX)
explain select from_unit, to_unit, st_astext(unit_range) from receivable_items where st_intersects(unit_range, point(-1, 120));
Query Plan
============================================================================
|ID|OPERATOR        |NAME                            |EST.ROWS|EST.TIME(us)|
----------------------------------------------------------------------------
|0 |TABLE RANGE SCAN|receivable_items(idx_unit_range)|1       |158         |
============================================================================
Outputs & filters:
-------------------------------------
  0 - output([receivable_items.from_unit], [receivable_items.to_unit], [st_astext(receivable_items.unit_range)]), filter([st_intersects(receivable_items.unit_range,
       point(cast(-1, DOUBLE(-1, -1)), cast(120, DOUBLE(-1, -1))))])
      access([receivable_items.__pk_increment], [receivable_items.from_unit], [receivable_items.to_unit], [receivable_items.unit_range]), partitions(p0)
      is_index_back=true, is_global_index=false, filter_before_indexback[false], 
      range_key([receivable_items.__cellid_18], [receivable_items.__mbr_18], [receivable_items.__pk_increment]), range(1152921504606846292,MIN,MIN ; 1152921504606846292,
      MAX,MAX), (1152921504606846288,MIN,MIN ; 1152921504606846288,MAX,MAX), (1152921504606846272,MIN,MIN ; 1152921504606846272,MAX,MAX), (1152921504606846208,
      MIN,MIN ; 1152921504606846208,MAX,MAX), (1152921504606845952,MIN,MIN ; 1152921504606845952,MAX,MAX), (1152921504606842880,MIN,MIN ; 1152921504606842880,
      MAX,MAX), (1152921504606830592,MIN,MIN ; 1152921504606830592,MAX,MAX), (1152921504606781440,MIN,MIN ; 1152921504606781440,MAX,MAX), (1152921504606584832,
      MIN,MIN ; 1152921504606584832,MAX,MAX), (1152921504605798400,MIN,MIN ; 1152921504605798400,MAX,MAX), (1152921504602652672,MIN,MIN ; 1152921504602652672,
      MAX,MAX), (1152921504590069760,MIN,MIN ; 1152921504590069760,MAX,MAX), (1152921504539738112,MIN,MIN ; 1152921504539738112,MAX,MAX), (1152921504338411520,
      MIN,MIN ; 1152921504338411520,MAX,MAX), (1152921503533105152,MIN,MIN ; 1152921503533105152,MAX,MAX), (1152921500311879680,MIN,MIN ; 1152921500311879680,
      MAX,MAX), (1152921487426977792,MIN,MIN ; 1152921487426977792,MAX,MAX), (1152921435887370240,MIN,MIN ; 1152921435887370240,MAX,MAX), (1152921229728940032,
      MIN,MIN ; 1152921229728940032,MAX,MAX), (1152920405095219200,MIN,MIN ; 1152920405095219200,MAX,MAX), (1152917106560335872,MIN,MIN ; 1152917106560335872,
      MAX,MAX), (1152903912420802560,MIN,MIN ; 1152903912420802560,MAX,MAX), (1152851135862669312,MIN,MIN ; 1152851135862669312,MAX,MAX), (1152640029630136320,
      MIN,MIN ; 1152640029630136320,MAX,MAX), (1151795604700004352,MIN,MIN ; 1151795604700004352,MAX,MAX), (1148417904979476480,MIN,MIN ; 1148417904979476480,
      MAX,MAX), (1134907106097364992,MIN,MIN ; 1134907106097364992,MAX,MAX), (1080863910568919040,MIN,MIN ; 1080863910568919040,MAX,MAX), (864691128455135232,
      MIN,MIN ; 864691128455135232,MAX,MAX), (1152921504606846976,MIN,MIN ; 1152921504606846976,MAX,MAX), (1152921504606846295,MIN,MIN ; 1152921504606846295,MAX,
      MAX)
select from_unit, to_unit, st_astext(unit_range) from receivable_items where st_intersects(unit_range, point(-1, 120));
from_unit	to_unit	st_astext(unit_range)
120	122	LINESTRING(-1 120,1 122)
explain select from_unit, to_unit, st_astext(unit_range) from receivable_items where st_intersects(unit_range, st_geomfromtext('linestring(0 122, 0 -11)'));
Query Plan
============================================================================
|ID|OPERATOR        |NAME                            |EST.ROWS|EST.TIME(us)|
----------------------------------------------------------------------------
|0 |TABLE RANGE SCAN|receivable_items(idx_unit_range)|1       |532         |
============================================================================
Outputs & filters:
-------------------------------------
  0 - output([receivable_items.from_unit], [receivable_items.to_unit], [st_astext(receivable_items.unit_range)]), filter([st_intersects(receivable_items.unit_range,
       st_geomfromtext('linestring(0 122, 0 -11)'))])
      access([receivable_items.__pk_increment], [receivable_items.from_unit], [receivable_items.to_unit], [receivable_items.unit_range]), partitions(p0)
      is_index_back=true, is_global_index=false, filter_before_indexback[false], 
      range_key([receivable_items.__cellid_18], [receivable_items.__mbr_18], [receivable_items.__pk_increment]), range(1152921504606846980,MIN,MIN ; 1152921504606846980,
      MAX,MAX), (1152921504606846992,MIN,MIN ; 1152921504606846992,MAX,MAX), (1152921504606847040,MIN,MIN ; 1152921504606847040,MAX,MAX), (1152921504606847232,
      MIN,MIN ; 1152921504606847232,MAX,MAX), (1152921504606848000,MIN,MIN ; 1152921504606848000,MAX,MAX), (1152921504606851072,MIN,MIN ; 1152921504606851072,
      MAX,MAX), (1152921504606863360,MIN,MIN ; 1152921504606863360,MAX,MAX), (1152921504606912512,MIN,MIN ; 1152921504606912512,MAX,MAX), (1152921504607109120,
      MIN,MIN ; 1152921504607109120,MAX,MAX), (1152921504607895552,MIN,MIN ; 1152921504607895552,MAX,MAX), (1152921504611041280,MIN,MIN ; 1152921504611041280,
      MAX,MAX), (1152921504623624192,MIN,MIN ; 1152921504623624192,MAX,MAX), (1152921504673955840,MIN,MIN ; 1152921504673955840,MAX,MAX), (1152921504875282432,
      MIN,MIN ; 1152921504875282432,MAX,MAX), (1152921505680588800,MIN,MIN ; 1152921505680588800,MAX,MAX), (1152921508901814272,MIN,MIN ; 1152921508901814272,
      MAX,MAX), (1152921521786716160,MIN,MIN ; 1152921521786716160,MAX,MAX), (1152921573326323712,MIN,MIN ; 1152921573326323712,MAX,MAX), (1152921779484753920,
      MIN,MIN ; 1152921779484753920,MAX,MAX), (1152922604118474752,MIN,MIN ; 1152922604118474752,MAX,MAX), (1152925902653358080,MIN,MIN ; 1152925902653358080,
      MAX,MAX), (1152939096792891392,MIN,MIN ; 1152939096792891392,MAX,MAX), (1152991873351024640,MIN,MIN ; 1152991873351024640,MAX,MAX), (1153202979583557632,
      MIN,MIN ; 1153202979583557632,MAX,MAX), (1154047404513689600,MIN,MIN ; 1154047404513689600,MAX,MAX), (1157425104234217472,MIN,MIN ; 1157425104234217472,
      MAX,MAX), (1170935903116328960,MIN,MIN ; 1170935903116328960,MAX,MAX), (1224979098644774912,MIN,MIN ; 1224979098644774912,MAX,MAX), (1441151880758558720,
      MIN,MIN ; 1441151880758558720,MAX,MAX), (1152921504606846976,MIN,MIN ; 1152921504606846976,MAX,MAX), (1152921504606847004,MIN,MIN ; 1152921504606847004,
      MAX,MAX), (1152921504606847012,MIN,MIN ; 1152921504606847012,MAX,MAX), (1152921504606847024,MIN,MIN ; 1152921504606847024,MAX,MAX), (1152921504606847020,
      MIN,MIN ; 1152921504606847020,MAX,MAX), (1152921504606847444,MIN,MIN ; 1152921504606847444,MAX,MAX), (1152921504606847440,MIN,MIN ; 1152921504606847440,
      MAX,MAX), (1152921504606847424,MIN,MIN ; 1152921504606847424,MAX,MAX), (1152921504606847452,MIN,MIN ; 1152921504606847452,MAX,MAX), (1152921504606847460,
      MIN,MIN ; 1152921504606847460,MAX,MAX), (1152921504606847472,MIN,MIN ; 1152921504606847472,MAX,MAX), (1152921504606847484,MIN,MIN ; 1152921504606847484,
      MAX,MAX), (1152921504606847492,MIN,MIN ; 1152921504606847492,MAX,MAX), (1152921504606847504,MIN,MIN ; 1152921504606847504,MAX,MAX), (1152921504606847552,
      MIN,MIN ; 1152921504606847552,MAX,MAX), (1152921504606847744,MIN,MIN ; 1152921504606847744,MAX,MAX), (1152921504606847500,MIN,MIN ; 1152921504606847500,
      MAX,MAX), (1152921504606847604,MIN,MIN ; 1152921504606847604,MAX,MAX), (1152921504606847600,MIN,MIN ; 1152921504606847600,MAX,MAX), (1152921504606847612,
      MIN,MIN ; 1152921504606847612,MAX,MAX), (1152921504606847620,MIN,MIN ; 1152921504606847620,MAX,MAX), (1152921504606847632,MIN,MIN ; 1152921504606847632,
      MAX,MAX), (1152921504606847680,MIN,MIN ; 1152921504606847680,MAX,MAX), (1152921504606847644,MIN,MIN ; 1152921504606847644,MAX,MAX), (1152921504606847652,
      MIN,MIN ; 1152921504606847652,MAX,MAX), (1152921504606847664,MIN,MIN ; 1152921504606847664,MAX,MAX), (1152921504606847660,MIN,MIN ; 1152921504606847660,
      MAX,MAX), (1921535841011411628,MIN,MIN ; 1921535841011411628,MAX,MAX), (1921535841011411632,MIN,MIN ; 1921535841011411632,MAX,MAX), (1921535841011411648,
      MIN,MIN ; 1921535841011411648,MAX,MAX), (1921535841011411712,MIN,MIN ; 1921535841011411712,MAX,MAX), (1921535841011411968,MIN,MIN ; 1921535841011411968,
      MAX,MAX), (1921535841011412992,MIN,MIN ; 1921535841011412992,MAX,MAX), (1921535841011417088,MIN,MIN ; 1921535841011417088,MAX,MAX), (1921535841011433472,
      MIN,MIN ; 1921535841011433472,MAX,MAX), (1921535841011499008,MIN,MIN ; 1921535841011499008,MAX,MAX), (1921535841011761152,MIN,MIN ; 1921535841011761152,
      MAX,MAX), (1921535841012809728,MIN,MIN ; 1921535841012809728,MAX,MAX), (1921535841017004032,MIN,MIN ; 1921535841017004032,MAX,MAX), (1921535841033781248,
      MIN,MIN ; 1921535841033781248,MAX,MAX), (1921535841100890112,MIN,MIN ; 1921535841100890112,MAX,MAX), (1921535841369325568,MIN,MIN ; 1921535841369325568,
      MAX,MAX), (1921535842443067392,MIN,MIN ; 1921535842443067392,MAX,MAX), (1921535846738034688,MIN,MIN ; 1921535846738034688,MAX,MAX), (1921535863917903872,
      MIN,MIN ; 1921535863917903872,MAX,MAX), (1921535932637380608,MIN,MIN ; 1921535932637380608,MAX,MAX), (1921536207515287552,MIN,MIN ; 1921536207515287552,
      MAX,MAX), (1921537307026915328,MIN,MIN ; 1921537307026915328,MAX,MAX), (1921541705073426432,MIN,MIN ; 1921541705073426432,MAX,MAX), (1921559297259470848,
      MIN,MIN ; 1921559297259470848,MAX,MAX), (1921629666003648512,MIN,MIN ; 1921629666003648512,MAX,MAX), (1921911140980359168,MIN,MIN ; 1921911140980359168,
      MAX,MAX), (1923037040887201792,MIN,MIN ; 1923037040887201792,MAX,MAX), (1927540640514572288,MIN,MIN ; 1927540640514572288,MAX,MAX), (1945555039024054272,
      MIN,MIN ; 1945555039024054272,MAX,MAX), (2017612633061982208,MIN,MIN ; 2017612633061982208,MAX,MAX), (1921535841011411636,MIN,MIN ; 1921535841011411636,
      MAX,MAX), (1152921504606846977,MIN,MIN ; 1152921504606846977,MAX,MAX), (1152921504606846979,MIN,MIN ; 1152921504606846979,MAX,MAX), (1152921504606847005,
      MIN,MIN ; 1152921504606847005,MAX,MAX), (1152921504606847007,MIN,MIN ; 1152921504606847007,MAX,MAX), (1152921504606847009,MIN,MIN ; 1152921504606847009,
      MAX,MAX), (1152921504606847015,MIN,MIN ; 1152921504606847015,MAX,MAX), (1152921504606847017,MIN,MIN ; 1152921504606847017,MAX,MAX), (1152921504606847019,
      MIN,MIN ; 1152921504606847019,MAX,MAX), (1152921504606847445,MIN,MIN ; 1152921504606847445,MAX,MAX), (1152921504606847447,MIN,MIN ; 1152921504606847447,
      MAX,MAX), (1152921504606847449,MIN,MIN ; 1152921504606847449,MAX,MAX), (1152921504606847455,MIN,MIN ; 1152921504606847455,MAX,MAX), (1152921504606847457,
      MIN,MIN ; 1152921504606847457,MAX,MAX), (1152921504606847459,MIN,MIN ; 1152921504606847459,MAX,MAX), (1152921504606847485,MIN,MIN ; 1152921504606847485,
      MAX,MAX), (1152921504606847487,MIN,MIN ; 1152921504606847487,MAX,MAX), (1152921504606847489,MIN,MIN ; 1152921504606847489,MAX,MAX), (1152921504606847495,
      MIN,MIN ; 1152921504606847495,MAX,MAX), (1152921504606847497,MIN,MIN ; 1152921504606847497,MAX,MAX), (1152921504606847499,MIN,MIN ; 1152921504606847499,
      MAX,MAX), (1152921504606847605,MIN,MIN ; 1152921504606847605,MAX,MAX), (1152921504606847607,MIN,MIN ; 1152921504606847607,MAX,MAX), (1152921504606847609,
      MIN,MIN ; 1152921504606847609,MAX,MAX), (1152921504606847615,MIN,MIN ; 1152921504606847615,MAX,MAX), (1152921504606847617,MIN,MIN ; 1152921504606847617,
      MAX,MAX), (1152921504606847619,MIN,MIN ; 1152921504606847619,MAX,MAX), (1152921504606847645,MIN,MIN ; 1152921504606847645,MAX,MAX), (1152921504606847647,
      MIN,MIN ; 1152921504606847647,MAX,MAX), (1152921504606847649,MIN,MIN ; 1152921504606847649,MAX,MAX), (1152921504606847655,MIN,MIN ; 1152921504606847655,
      MAX,MAX), (1152921504606847657,MIN,MIN ; 1152921504606847657,MAX,MAX), (1921535841011411627,MIN,MIN ; 1921535841011411627,MAX,MAX), (1921535841011411629,
      MIN,MIN ; 1921535841011411629,MAX,MAX), (1921535841011411635,MIN,MIN ; 1921535841011411635,MAX,MAX)
select from_unit, to_unit, st_astext(unit_range) from receivable_items where st_intersects(unit_range, st_geomfromtext('linestring(0 122, 0 -11)'));
from_unit	to_unit	st_astext(unit_range)
120	122	LINESTRING(-1 120,1 122)
10	11	LINESTRING(-1 10,1 11)
21	25	LINESTRING(-1 21,1 25)
33	36	LINESTRING(-1 33,1 36)
-10	10	LINESTRING(-1 -10,1 10)
select from_unit, to_unit, st_astext(unit_range) from receivable_items ignore index(idx_unit_range) where st_intersects(unit_range, point(-1, 120));
from_unit	to_unit	st_astext(unit_range)
120	122	LINESTRING(-1 120,1 122)
select from_unit, to_unit, st_astext(unit_range) from receivable_items ignore index(idx_unit_range) where st_intersects(unit_range, st_geomfromtext('linestring(0 122, 0 -11)'));
from_unit	to_unit	st_astext(unit_range)
120	122	LINESTRING(-1 120,1 122)
10	11	LINESTRING(-1 10,1 11)
21	25	LINESTRING(-1 21,1 25)
33	36	LINESTRING(-1 33,1 36)
-10	10	LINESTRING(-1 -10,1 10)
drop table receivable_items;
CREATE TABLE `receivable_items` (
`id` int(32) NOT NULL auto_increment,
`geo_text` varchar(1024) NOT NULL,
`unit_range` geometry GENERATED ALWAYS AS (st_geomfromtext(geo_text, 4326, 'axis-order=long-lat')) STORED NOT NULL srid 4326,
SPATIAL KEY `idx_unit_range` (`unit_range`)
);
insert into receivable_items(geo_text) values('point(120.34904267189361 30.320965261625222)');
insert into receivable_items(geo_text) values('point(120.34904267189360 30.320965261625222)');
insert into receivable_items(geo_text) values('linestring(120.34904267189360 30.320965261625222, 120.34904267189361 30.320965261625222)');
insert into receivable_items(geo_text) values('linestring(120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013)');
insert into receivable_items(geo_text) values('linestring(120.34904267189360 30.320965261625222, 120.34904267189360 30.320800629134425)');
insert into receivable_items(geo_text) values('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))');
insert into receivable_items(geo_text) values('MULTIPOLYGON (((110.34904267189361 30.320965261625222, 110.35812237862895 30.321118189268013, 110.35812237865006 30.32111818926693, 110.35460911503478 30.32080062911392, 110.3546091159729 30.320800629134425,  110.34904267189361 30.320965261625222)))');
insert into receivable_items(geo_text) values('GEOMETRYCOLLECTION(MULTIPOLYGON(((120.31599964855097 30.243634005580816,120.3160009095347 30.243635469782166,120.31600747846684 30.24364742764055,120.31601121779788 30.243660263421923,120.31601198353063 30.243673482839302,120.31599964855097 30.243634005580816)),((120.3160009095347 30.243635469782166,120.31600747846684 30.24364742764055,120.31601121779788 30.243660263421923,120.31601198353063 30.243673482839302,120.31601159806742 30.24367573874217,120.3160009095347 30.243635469782166))),POLYGON((120.31599964855097 30.243634005580816,120.3160009095347 30.243635469782166,120.31600747846684 30.24364742764055,120.31601121779788 30.243660263421923,120.31601198353063 30.243673482839302,120.31599964855097 30.243634005580816)),LINESTRING(120.31599964855097 30.243634005580816,120.3160009095347 30.243635469782166),MULTIPOINT(120.31599964855097 30.243634005580816,120.3160009095347 30.243635469782166,120.31600747846684 30.24364742764055),point(120.31599964855097 30.243634005580816))');
explain select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'));
Query Plan
============================================================================
|ID|OPERATOR        |NAME                            |EST.ROWS|EST.TIME(us)|
----------------------------------------------------------------------------
|0 |TABLE RANGE SCAN|receivable_items(idx_unit_range)|1       |448         |
============================================================================
Outputs & filters:
-------------------------------------
  0 - output([receivable_items.id], [st_astext(receivable_items.unit_range)]), filter([ST_Intersects(receivable_items.unit_range, ST_GeomFromText('MULTIPOLYGON 
      (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392,
       120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))', 4326, 'axis-order=long-lat'))])
      access([receivable_items.__pk_increment], [receivable_items.unit_range], [receivable_items.id]), partitions(p0)
      is_index_back=true, is_global_index=false, filter_before_indexback[false], 
      range_key([receivable_items.__cellid_18], [receivable_items.__mbr_18], [receivable_items.__pk_increment]), range(3768553615552151552,MIN,MIN ; 3768553615552151552,
      MAX,MAX), (3768553615485042688,MIN,MIN ; 3768553615485042688,MAX,MAX), (3768553614679736320,MIN,MIN ; 3768553614679736320,MAX,MAX), (3768553611458510848,
      MIN,MIN ; 3768553611458510848,MAX,MAX), (3768553615753478144,MIN,MIN ; 3768553615753478144,MAX,MAX), (3768553632933347328,MIN,MIN ; 3768553632933347328,
      MAX,MAX), (3768553839091777536,MIN,MIN ; 3768553839091777536,MAX,MAX), (3768553014458056704,MIN,MIN ; 3768553014458056704,MAX,MAX), (3768549715923173376,
      MIN,MIN ; 3768549715923173376,MAX,MAX), (3768545317876662272,MIN,MIN ; 3768545317876662272,MAX,MAX), (3768598094434795520,MIN,MIN ; 3768598094434795520,
      MAX,MAX), (3768668463178973184,MIN,MIN ; 3768668463178973184,MAX,MAX), (3768386988202262528,MIN,MIN ; 3768386988202262528,MAX,MAX), (3769512888109105152,
      MIN,MIN ; 3769512888109105152,MAX,MAX), (3765009288481734656,MIN,MIN ; 3765009288481734656,MAX,MAX), (3819052484010180608,MIN,MIN ; 3819052484010180608,
      MAX,MAX), (3746994889972252672,MIN,MIN ; 3746994889972252672,MAX,MAX), (3458764513820540928,MIN,MIN ; 3458764513820540928,MAX,MAX), (3768553615686369280,
      MIN,MIN ; 3768553615686369280,MAX,MAX), (3768553615870918656,MIN,MIN ; 3768553615870918656,MAX,MAX), (3768553615820587008,MIN,MIN ; 3768553615820587008,
      MAX,MAX), (3768553616021913600,MIN,MIN ; 3768553616021913600,MAX,MAX), (3768553616827219968,MIN,MIN ; 3768553616827219968,MAX,MAX), (3768553620048445440,
      MIN,MIN ; 3768553620048445440,MAX,MAX), (3768553615954804736,MIN,MIN ; 3768553615954804736,MAX,MAX), (3768553615938027520,MIN,MIN ; 3768553615938027520,
      MAX,MAX), (3768553615971581952,MIN,MIN ; 3768553615971581952,MAX,MAX), (3768553616642670592,MIN,MIN ; 3768553616642670592,MAX,MAX), (3768553616625893376,
      MIN,MIN ; 3768553616625893376,MAX,MAX), (3768553616558784512,MIN,MIN ; 3768553616558784512,MAX,MAX), (3768553616760111104,MIN,MIN ; 3768553616760111104,
      MAX,MAX), (3768553616776888320,MIN,MIN ; 3768553616776888320,MAX,MAX), (3768553616894328832,MIN,MIN ; 3768553616894328832,MAX,MAX), (3768553617095655424,
      MIN,MIN ; 3768553617095655424,MAX,MAX), (3768553617028546560,MIN,MIN ; 3768553617028546560,MAX,MAX), (3768553617045323776,MIN,MIN ; 3768553617045323776,
      MAX,MAX), (3768553622263037952,MIN,MIN ; 3768553622263037952,MAX,MAX), (3768553622464364544,MIN,MIN ; 3768553622464364544,MAX,MAX), (3768553623269670912,
      MIN,MIN ; 3768553623269670912,MAX,MAX), (3768553622258843648,MIN,MIN ; 3768553622258843648,MAX,MAX), (3768553622246260736,MIN,MIN ; 3768553622246260736,
      MAX,MAX), (3768553622397255680,MIN,MIN ; 3768553622397255680,MAX,MAX), (3768553622531473408,MIN,MIN ; 3768553622531473408,MAX,MAX), (3768553622665691136,
      MIN,MIN ; 3768553622665691136,MAX,MAX), (3768553622799908864,MIN,MIN ; 3768553622799908864,MAX,MAX), (3768553623001235456,MIN,MIN ; 3768553623001235456,
      MAX,MAX), (3768553623202562048,MIN,MIN ; 3768553623202562048,MAX,MAX), (3768553623252893696,MIN,MIN ; 3768553623252893696,MAX,MAX), (3768553643201003520,
      MIN,MIN ; 3768553643201003520,MAX,MAX), (3768553643402330112,MIN,MIN ; 3768553643402330112,MAX,MAX), (3768553642597023744,MIN,MIN ; 3768553642597023744,
      MAX,MAX), (3768553645818249216,MIN,MIN ; 3768553645818249216,MAX,MAX), (3768553650113216512,MIN,MIN ; 3768553650113216512,MAX,MAX), (3768553643808129024,
      MIN,MIN ; 3768553643808129024,MAX,MAX), (3768553643809177600,MIN,MIN ; 3768553643809177600,MAX,MAX), (3768553643821760512,MIN,MIN ; 3768553643821760512,
      MAX,MAX), (3768553643872092160,MIN,MIN ; 3768553643872092160,MAX,MAX), (3768553643939201024,MIN,MIN ; 3768553643939201024,MAX,MAX), (3768553644744507392,
      MIN,MIN ; 3768553644744507392,MAX,MAX), (3768553615585705985,MIN,MIN ; 3768553615619260415,MAX,MAX), (3768553615619260417,MIN,MIN ; 3768553615652814847,
      MAX,MAX), (3768553615854141441,MIN,MIN ; 3768553615862530047,MAX,MAX), (3768553615879307265,MIN,MIN ; 3768553615887695871,MAX,MAX), (3768553615887695873,
      MIN,MIN ; 3768553615921250303,MAX,MAX), (3768553615946416129,MIN,MIN ; 3768553615954804735,MAX,MAX), (3768553615954804737,MIN,MIN ; 3768553615963193343,
      MAX,MAX), (3768553615979970561,MIN,MIN ; 3768553615988359167,MAX,MAX), (3768553615988359169,MIN,MIN ; 3768553616021913599,MAX,MAX), (3768553616021913601,
      MIN,MIN ; 3768553616156131327,MAX,MAX), (3768553616642670593,MIN,MIN ; 3768553616651059199,MAX,MAX), (3768553616651059201,MIN,MIN ; 3768553616659447807,
      MAX,MAX), (3768553616659447809,MIN,MIN ; 3768553616693002239,MAX,MAX), (3768553616693002241,MIN,MIN ; 3768553616726556671,MAX,MAX), (3768553616785276929,
      MIN,MIN ; 3768553616793665535,MAX,MAX), (3768553616793665537,MIN,MIN ; 3768553616827219967,MAX,MAX), (3768553616827219969,MIN,MIN ; 3768553616860774399,
      MAX,MAX), (3768553616927883265,MIN,MIN ; 3768553616961437695,MAX,MAX), (3768553616961437697,MIN,MIN ; 3768553616994992127,MAX,MAX), (3768553616994992129,
      MIN,MIN ; 3768553617028546559,MAX,MAX), (3768553617036935169,MIN,MIN ; 3768553617045323775,MAX,MAX), (3768553622195929089,MIN,MIN ; 3768553622229483519,
      MAX,MAX), (3768553622260940801,MIN,MIN ; 3768553622263037951,MAX,MAX), (3768553622263037953,MIN,MIN ; 3768553622296592383,MAX,MAX), (3768553622296592385,
      MIN,MIN ; 3768553622330146815,MAX,MAX), (3768553622430810113,MIN,MIN ; 3768553622464364543,MAX,MAX), (3768553622464364545,MIN,MIN ; 3768553622497918975,
      MAX,MAX), (3768553622565027841,MIN,MIN ; 3768553622598582271,MAX,MAX), (3768553622598582273,MIN,MIN ; 3768553622632136703,MAX,MAX), (3768553622632136705,
      MIN,MIN ; 3768553622665691135,MAX,MAX), (3768553622766354433,MIN,MIN ; 3768553622799908863,MAX,MAX), (3768553623001235457,MIN,MIN ; 3768553623135453183,
      MAX,MAX), (3768553623135453185,MIN,MIN ; 3768553623169007615,MAX,MAX), (3768553623169007617,MIN,MIN ; 3768553623202562047,MAX,MAX), (3768553623202562049,
      MIN,MIN ; 3768553623236116479,MAX,MAX), (3768553623244505089,MIN,MIN ; 3768553623252893695,MAX,MAX), (3768553643167449089,MIN,MIN ; 3768553643201003519,
      MAX,MAX), (3768553643201003521,MIN,MIN ; 3768553643234557951,MAX,MAX), (3768553643536547841,MIN,MIN ; 3768553643670765567,MAX,MAX), (3768553643807604737,
      MIN,MIN ; 3768553643808129023,MAX,MAX), (3768553643830149121,MIN,MIN ; 3768553643838537727,MAX,MAX)
select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'));
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
3	LINESTRING(30.320965261625222 120.3490426718936,30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
5	LINESTRING(30.320965261625222 120.3490426718936,30.320800629134425 120.3490426718936)
6	MULTIPOLYGON(((30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895,30.32111818926693 120.35612237865006,30.32080062911392 120.35460911503478,30.320800629134425 120.3546091159729,30.320965261625222 120.34904267189361)))
select id, st_astext(unit_range) from receivable_items where _ST_covers(ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'), unit_range);
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
select id, st_astext(unit_range) from receivable_items ignore index(idx_unit_range) where ST_Intersects(unit_range, ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'));
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
3	LINESTRING(30.320965261625222 120.3490426718936,30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
5	LINESTRING(30.320965261625222 120.3490426718936,30.320800629134425 120.3490426718936)
6	MULTIPOLYGON(((30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895,30.32111818926693 120.35612237865006,30.32080062911392 120.35460911503478,30.320800629134425 120.3546091159729,30.320965261625222 120.34904267189361)))
select id, st_astext(unit_range) from receivable_items ignore index(idx_unit_range) where _ST_covers(ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'), unit_range);
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('GEOMETRYCOLLECTION(MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222))),POLYGON ((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)),multipoint(120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693),point(120.31601198353063 30.243673482839302))',4326, 'axis-order=long-lat'));
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
2	POINT(30.320965261625222 120.3490426718936)
3	LINESTRING(30.320965261625222 120.3490426718936,30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
5	LINESTRING(30.320965261625222 120.3490426718936,30.320800629134425 120.3490426718936)
6	MULTIPOLYGON(((30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895,30.32111818926693 120.35612237865006,30.32080062911392 120.35460911503478,30.320800629134425 120.3546091159729,30.320965261625222 120.34904267189361)))
8	GEOMETRYCOLLECTION(MULTIPOLYGON(((30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.243634005580816 120.31599964855097)),((30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.24367573874217 120.31601159806742,30.243635469782166 120.3160009095347))),POLYGON((30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.243634005580816 120.31599964855097)),LINESTRING(30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347),MULTIPOINT((30.243634005580816 120.31599964855097),(30.243635469782166 120.3160009095347),(30.24364742764055 120.31600747846684)),POINT(30.243634005580816 120.31599964855097))
drop table receivable_items;
CREATE TABLE `receivable_items` (
`id` int(32) NOT NULL auto_increment,
`geo_text` varchar(1024) NOT NULL,
`unit_range` geometry GENERATED ALWAYS AS (st_geomfromtext(geo_text, 4326, 'axis-order=long-lat')) STORED NOT NULL srid 4326
);
insert into receivable_items(geo_text) values('point(120.34904267189361 30.320965261625222)');
insert into receivable_items(geo_text) values('point(120.34904267189360 30.320965261625222)');
insert into receivable_items(geo_text) values('linestring(120.34904267189360 30.320965261625222, 120.34904267189361 30.320965261625222)');
insert into receivable_items(geo_text) values('linestring(120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013)');
insert into receivable_items(geo_text) values('linestring(120.34904267189360 30.320965261625222, 120.34904267189360 30.320800629134425)');
insert into receivable_items(geo_text) values('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))');
insert into receivable_items(geo_text) values('MULTIPOLYGON (((110.34904267189361 30.320965261625222, 110.35812237862895 30.321118189268013, 110.35812237865006 30.32111818926693, 110.35460911503478 30.32080062911392, 110.3546091159729 30.320800629134425,  110.34904267189361 30.320965261625222)))');
insert into receivable_items(geo_text) values('GEOMETRYCOLLECTION(MULTIPOLYGON(((120.31599964855097 30.243634005580816,120.3160009095347 30.243635469782166,120.31600747846684 30.24364742764055,120.31601121779788 30.243660263421923,120.31601198353063 30.243673482839302,120.31599964855097 30.243634005580816)),((120.3160009095347 30.243635469782166,120.31600747846684 30.24364742764055,120.31601121779788 30.243660263421923,120.31601198353063 30.243673482839302,120.31601159806742 30.24367573874217,120.3160009095347 30.243635469782166))),POLYGON((120.31599964855097 30.243634005580816,120.3160009095347 30.243635469782166,120.31600747846684 30.24364742764055,120.31601121779788 30.243660263421923,120.31601198353063 30.243673482839302,120.31599964855097 30.243634005580816)),LINESTRING(120.31599964855097 30.243634005580816,120.3160009095347 30.243635469782166),MULTIPOINT(120.31599964855097 30.243634005580816,120.3160009095347 30.243635469782166,120.31600747846684 30.24364742764055),point(120.31599964855097 30.243634005580816))');
select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'));
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
3	LINESTRING(30.320965261625222 120.3490426718936,30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
5	LINESTRING(30.320965261625222 120.3490426718936,30.320800629134425 120.3490426718936)
6	MULTIPOLYGON(((30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895,30.32111818926693 120.35612237865006,30.32080062911392 120.35460911503478,30.320800629134425 120.3546091159729,30.320965261625222 120.34904267189361)))
select id, st_astext(unit_range) from receivable_items where _ST_covers(ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'), unit_range);
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('GEOMETRYCOLLECTION(MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222))),POLYGON ((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)),multipoint(120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693),point(120.31601198353063 30.243673482839302))',4326, 'axis-order=long-lat'));
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
2	POINT(30.320965261625222 120.3490426718936)
3	LINESTRING(30.320965261625222 120.3490426718936,30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
5	LINESTRING(30.320965261625222 120.3490426718936,30.320800629134425 120.3490426718936)
6	MULTIPOLYGON(((30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895,30.32111818926693 120.35612237865006,30.32080062911392 120.35460911503478,30.320800629134425 120.3546091159729,30.320965261625222 120.34904267189361)))
8	GEOMETRYCOLLECTION(MULTIPOLYGON(((30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.243634005580816 120.31599964855097)),((30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.24367573874217 120.31601159806742,30.243635469782166 120.3160009095347))),POLYGON((30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.243634005580816 120.31599964855097)),LINESTRING(30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347),MULTIPOINT((30.243634005580816 120.31599964855097),(30.243635469782166 120.3160009095347),(30.24364742764055 120.31600747846684)),POINT(30.243634005580816 120.31599964855097))
create SPATIAL index if not exists `idx_unit_range` on `receivable_items` (`unit_range`);
explain select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'));
Query Plan
============================================================================
|ID|OPERATOR        |NAME                            |EST.ROWS|EST.TIME(us)|
----------------------------------------------------------------------------
|0 |TABLE RANGE SCAN|receivable_items(idx_unit_range)|1       |448         |
============================================================================
Outputs & filters:
-------------------------------------
  0 - output([receivable_items.id], [st_astext(receivable_items.unit_range)]), filter([ST_Intersects(receivable_items.unit_range, ST_GeomFromText('MULTIPOLYGON 
      (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392,
       120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))', 4326, 'axis-order=long-lat'))])
      access([receivable_items.__pk_increment], [receivable_items.unit_range], [receivable_items.id]), partitions(p0)
      is_index_back=true, is_global_index=false, filter_before_indexback[false], 
      range_key([receivable_items.__cellid_18], [receivable_items.__mbr_18], [receivable_items.__pk_increment]), range(3768553615552151552,MIN,MIN ; 3768553615552151552,
      MAX,MAX), (3768553615485042688,MIN,MIN ; 3768553615485042688,MAX,MAX), (3768553614679736320,MIN,MIN ; 3768553614679736320,MAX,MAX), (3768553611458510848,
      MIN,MIN ; 3768553611458510848,MAX,MAX), (3768553615753478144,MIN,MIN ; 3768553615753478144,MAX,MAX), (3768553632933347328,MIN,MIN ; 3768553632933347328,
      MAX,MAX), (3768553839091777536,MIN,MIN ; 3768553839091777536,MAX,MAX), (3768553014458056704,MIN,MIN ; 3768553014458056704,MAX,MAX), (3768549715923173376,
      MIN,MIN ; 3768549715923173376,MAX,MAX), (3768545317876662272,MIN,MIN ; 3768545317876662272,MAX,MAX), (3768598094434795520,MIN,MIN ; 3768598094434795520,
      MAX,MAX), (3768668463178973184,MIN,MIN ; 3768668463178973184,MAX,MAX), (3768386988202262528,MIN,MIN ; 3768386988202262528,MAX,MAX), (3769512888109105152,
      MIN,MIN ; 3769512888109105152,MAX,MAX), (3765009288481734656,MIN,MIN ; 3765009288481734656,MAX,MAX), (3819052484010180608,MIN,MIN ; 3819052484010180608,
      MAX,MAX), (3746994889972252672,MIN,MIN ; 3746994889972252672,MAX,MAX), (3458764513820540928,MIN,MIN ; 3458764513820540928,MAX,MAX), (3768553615686369280,
      MIN,MIN ; 3768553615686369280,MAX,MAX), (3768553615870918656,MIN,MIN ; 3768553615870918656,MAX,MAX), (3768553615820587008,MIN,MIN ; 3768553615820587008,
      MAX,MAX), (3768553616021913600,MIN,MIN ; 3768553616021913600,MAX,MAX), (3768553616827219968,MIN,MIN ; 3768553616827219968,MAX,MAX), (3768553620048445440,
      MIN,MIN ; 3768553620048445440,MAX,MAX), (3768553615954804736,MIN,MIN ; 3768553615954804736,MAX,MAX), (3768553615938027520,MIN,MIN ; 3768553615938027520,
      MAX,MAX), (3768553615971581952,MIN,MIN ; 3768553615971581952,MAX,MAX), (3768553616642670592,MIN,MIN ; 3768553616642670592,MAX,MAX), (3768553616625893376,
      MIN,MIN ; 3768553616625893376,MAX,MAX), (3768553616558784512,MIN,MIN ; 3768553616558784512,MAX,MAX), (3768553616760111104,MIN,MIN ; 3768553616760111104,
      MAX,MAX), (3768553616776888320,MIN,MIN ; 3768553616776888320,MAX,MAX), (3768553616894328832,MIN,MIN ; 3768553616894328832,MAX,MAX), (3768553617095655424,
      MIN,MIN ; 3768553617095655424,MAX,MAX), (3768553617028546560,MIN,MIN ; 3768553617028546560,MAX,MAX), (3768553617045323776,MIN,MIN ; 3768553617045323776,
      MAX,MAX), (3768553622263037952,MIN,MIN ; 3768553622263037952,MAX,MAX), (3768553622464364544,MIN,MIN ; 3768553622464364544,MAX,MAX), (3768553623269670912,
      MIN,MIN ; 3768553623269670912,MAX,MAX), (3768553622258843648,MIN,MIN ; 3768553622258843648,MAX,MAX), (3768553622246260736,MIN,MIN ; 3768553622246260736,
      MAX,MAX), (3768553622397255680,MIN,MIN ; 3768553622397255680,MAX,MAX), (3768553622531473408,MIN,MIN ; 3768553622531473408,MAX,MAX), (3768553622665691136,
      MIN,MIN ; 3768553622665691136,MAX,MAX), (3768553622799908864,MIN,MIN ; 3768553622799908864,MAX,MAX), (3768553623001235456,MIN,MIN ; 3768553623001235456,
      MAX,MAX), (3768553623202562048,MIN,MIN ; 3768553623202562048,MAX,MAX), (3768553623252893696,MIN,MIN ; 3768553623252893696,MAX,MAX), (3768553643201003520,
      MIN,MIN ; 3768553643201003520,MAX,MAX), (3768553643402330112,MIN,MIN ; 3768553643402330112,MAX,MAX), (3768553642597023744,MIN,MIN ; 3768553642597023744,
      MAX,MAX), (3768553645818249216,MIN,MIN ; 3768553645818249216,MAX,MAX), (3768553650113216512,MIN,MIN ; 3768553650113216512,MAX,MAX), (3768553643808129024,
      MIN,MIN ; 3768553643808129024,MAX,MAX), (3768553643809177600,MIN,MIN ; 3768553643809177600,MAX,MAX), (3768553643821760512,MIN,MIN ; 3768553643821760512,
      MAX,MAX), (3768553643872092160,MIN,MIN ; 3768553643872092160,MAX,MAX), (3768553643939201024,MIN,MIN ; 3768553643939201024,MAX,MAX), (3768553644744507392,
      MIN,MIN ; 3768553644744507392,MAX,MAX), (3768553615585705985,MIN,MIN ; 3768553615619260415,MAX,MAX), (3768553615619260417,MIN,MIN ; 3768553615652814847,
      MAX,MAX), (3768553615854141441,MIN,MIN ; 3768553615862530047,MAX,MAX), (3768553615879307265,MIN,MIN ; 3768553615887695871,MAX,MAX), (3768553615887695873,
      MIN,MIN ; 3768553615921250303,MAX,MAX), (3768553615946416129,MIN,MIN ; 3768553615954804735,MAX,MAX), (3768553615954804737,MIN,MIN ; 3768553615963193343,
      MAX,MAX), (3768553615979970561,MIN,MIN ; 3768553615988359167,MAX,MAX), (3768553615988359169,MIN,MIN ; 3768553616021913599,MAX,MAX), (3768553616021913601,
      MIN,MIN ; 3768553616156131327,MAX,MAX), (3768553616642670593,MIN,MIN ; 3768553616651059199,MAX,MAX), (3768553616651059201,MIN,MIN ; 3768553616659447807,
      MAX,MAX), (3768553616659447809,MIN,MIN ; 3768553616693002239,MAX,MAX), (3768553616693002241,MIN,MIN ; 3768553616726556671,MAX,MAX), (3768553616785276929,
      MIN,MIN ; 3768553616793665535,MAX,MAX), (3768553616793665537,MIN,MIN ; 3768553616827219967,MAX,MAX), (3768553616827219969,MIN,MIN ; 3768553616860774399,
      MAX,MAX), (3768553616927883265,MIN,MIN ; 3768553616961437695,MAX,MAX), (3768553616961437697,MIN,MIN ; 3768553616994992127,MAX,MAX), (3768553616994992129,
      MIN,MIN ; 3768553617028546559,MAX,MAX), (3768553617036935169,MIN,MIN ; 3768553617045323775,MAX,MAX), (3768553622195929089,MIN,MIN ; 3768553622229483519,
      MAX,MAX), (3768553622260940801,MIN,MIN ; 3768553622263037951,MAX,MAX), (3768553622263037953,MIN,MIN ; 3768553622296592383,MAX,MAX), (3768553622296592385,
      MIN,MIN ; 3768553622330146815,MAX,MAX), (3768553622430810113,MIN,MIN ; 3768553622464364543,MAX,MAX), (3768553622464364545,MIN,MIN ; 3768553622497918975,
      MAX,MAX), (3768553622565027841,MIN,MIN ; 3768553622598582271,MAX,MAX), (3768553622598582273,MIN,MIN ; 3768553622632136703,MAX,MAX), (3768553622632136705,
      MIN,MIN ; 3768553622665691135,MAX,MAX), (3768553622766354433,MIN,MIN ; 3768553622799908863,MAX,MAX), (3768553623001235457,MIN,MIN ; 3768553623135453183,
      MAX,MAX), (3768553623135453185,MIN,MIN ; 3768553623169007615,MAX,MAX), (3768553623169007617,MIN,MIN ; 3768553623202562047,MAX,MAX), (3768553623202562049,
      MIN,MIN ; 3768553623236116479,MAX,MAX), (3768553623244505089,MIN,MIN ; 3768553623252893695,MAX,MAX), (3768553643167449089,MIN,MIN ; 3768553643201003519,
      MAX,MAX), (3768553643201003521,MIN,MIN ; 3768553643234557951,MAX,MAX), (3768553643536547841,MIN,MIN ; 3768553643670765567,MAX,MAX), (3768553643807604737,
      MIN,MIN ; 3768553643808129023,MAX,MAX), (3768553643830149121,MIN,MIN ; 3768553643838537727,MAX,MAX)
select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'));
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
3	LINESTRING(30.320965261625222 120.3490426718936,30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
5	LINESTRING(30.320965261625222 120.3490426718936,30.320800629134425 120.3490426718936)
6	MULTIPOLYGON(((30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895,30.32111818926693 120.35612237865006,30.32080062911392 120.35460911503478,30.320800629134425 120.3546091159729,30.320965261625222 120.34904267189361)))
select id, st_astext(unit_range) from receivable_items where _ST_covers(ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'), unit_range);
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('GEOMETRYCOLLECTION(MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222))),POLYGON ((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)),multipoint(120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693),point(120.31601198353063 30.243673482839302))',4326, 'axis-order=long-lat'));
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
2	POINT(30.320965261625222 120.3490426718936)
3	LINESTRING(30.320965261625222 120.3490426718936,30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
5	LINESTRING(30.320965261625222 120.3490426718936,30.320800629134425 120.3490426718936)
6	MULTIPOLYGON(((30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895,30.32111818926693 120.35612237865006,30.32080062911392 120.35460911503478,30.320800629134425 120.3546091159729,30.320965261625222 120.34904267189361)))
8	GEOMETRYCOLLECTION(MULTIPOLYGON(((30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.243634005580816 120.31599964855097)),((30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.24367573874217 120.31601159806742,30.243635469782166 120.3160009095347))),POLYGON((30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.243634005580816 120.31599964855097)),LINESTRING(30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347),MULTIPOINT((30.243634005580816 120.31599964855097),(30.243635469782166 120.3160009095347),(30.24364742764055 120.31600747846684)),POINT(30.243634005580816 120.31599964855097))
drop table receivable_items;
CREATE TABLE `receivable_items` (
`id` int(32) NOT NULL auto_increment,
`geo_text` varchar(1024) NOT NULL,
`unit_range` geometry GENERATED ALWAYS AS (st_geomfromtext(geo_text, 4326, 'axis-order=long-lat')) NOT NULL srid 4326,
SPATIAL KEY `idx_unit_range` (`unit_range`)
);
ERROR HY000: 'unit_range' is not supported for generated columns.
CREATE TABLE `receivable_items` (
`id` int(32) NOT NULL auto_increment primary key,
`geo_text` varchar(1024) NOT NULL,
`unit_range` geometry GENERATED ALWAYS AS (st_geomfromtext(geo_text, 4326, 'axis-order=long-lat')) STORED NOT NULL srid 4326,
SPATIAL KEY `idx_unit_range` (`unit_range`)
) partition by hash(id) partitions 3;
insert into receivable_items(geo_text) values('point(120.34904267189361 30.320965261625222)');
insert into receivable_items(geo_text) values('point(120.34904267189360 30.320965261625222)');
insert into receivable_items(geo_text) values('linestring(120.34904267189360 30.320965261625222, 120.34904267189361 30.320965261625222)');
insert into receivable_items(geo_text) values('linestring(120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013)');
insert into receivable_items(geo_text) values('linestring(120.34904267189360 30.320965261625222, 120.34904267189360 30.320800629134425)');
insert into receivable_items(geo_text) values('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))');
insert into receivable_items(geo_text) values('MULTIPOLYGON (((110.34904267189361 30.320965261625222, 110.35812237862895 30.321118189268013, 110.35812237865006 30.32111818926693, 110.35460911503478 30.32080062911392, 110.3546091159729 30.320800629134425,  110.34904267189361 30.320965261625222)))');
insert into receivable_items(geo_text) values('GEOMETRYCOLLECTION(MULTIPOLYGON(((120.31599964855097 30.243634005580816,120.3160009095347 30.243635469782166,120.31600747846684 30.24364742764055,120.31601121779788 30.243660263421923,120.31601198353063 30.243673482839302,120.31599964855097 30.243634005580816)),((120.3160009095347 30.243635469782166,120.31600747846684 30.24364742764055,120.31601121779788 30.243660263421923,120.31601198353063 30.243673482839302,120.31601159806742 30.24367573874217,120.3160009095347 30.243635469782166))),POLYGON((120.31599964855097 30.243634005580816,120.3160009095347 30.243635469782166,120.31600747846684 30.24364742764055,120.31601121779788 30.243660263421923,120.31601198353063 30.243673482839302,120.31599964855097 30.243634005580816)),LINESTRING(120.31599964855097 30.243634005580816,120.3160009095347 30.243635469782166),MULTIPOINT(120.31599964855097 30.243634005580816,120.3160009095347 30.243635469782166,120.31600747846684 30.24364742764055),point(120.31599964855097 30.243634005580816))');
explain select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'));
Query Plan
=====================================================================================
|ID|OPERATOR                 |NAME                            |EST.ROWS|EST.TIME(us)|
-------------------------------------------------------------------------------------
|0 |PX COORDINATOR           |                                |1       |1289        |
|1 |EXCHANGE OUT DISTR     |:EX10000                        |1       |1289        |
|2 |  PX PARTITION ITERATOR|                                |1       |1288        |
|3 |    TABLE RANGE SCAN   |receivable_items(idx_unit_range)|1       |1288        |
=====================================================================================
Outputs & filters:
-------------------------------------
  0 - output([INTERNAL_FUNCTION(receivable_items.id, st_astext(receivable_items.unit_range))]), filter(nil)
  1 - output([INTERNAL_FUNCTION(receivable_items.id, st_astext(receivable_items.unit_range))]), filter(nil)
      dop=1
  2 - output([receivable_items.id], [receivable_items.unit_range]), filter(nil)
      force partition granule
  3 - output([receivable_items.id], [receivable_items.unit_range]), filter([ST_Intersects(receivable_items.unit_range, ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 
      30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 
      30.320800629134425,  120.34904267189361 30.320965261625222)))', 4326, 'axis-order=long-lat'))])
      access([receivable_items.id], [receivable_items.unit_range]), partitions(p[0-2])
      is_index_back=true, is_global_index=false, filter_before_indexback[false], 
      range_key([receivable_items.__cellid_18], [receivable_items.__mbr_18], [receivable_items.id]), range(3768553615552151552,MIN,MIN ; 3768553615552151552,
      MAX,MAX), (3768553615485042688,MIN,MIN ; 3768553615485042688,MAX,MAX), (3768553614679736320,MIN,MIN ; 3768553614679736320,MAX,MAX), (3768553611458510848,
      MIN,MIN ; 3768553611458510848,MAX,MAX), (3768553615753478144,MIN,MIN ; 3768553615753478144,MAX,MAX), (3768553632933347328,MIN,MIN ; 3768553632933347328,
      MAX,MAX), (3768553839091777536,MIN,MIN ; 3768553839091777536,MAX,MAX), (3768553014458056704,MIN,MIN ; 3768553014458056704,MAX,MAX), (3768549715923173376,
      MIN,MIN ; 3768549715923173376,MAX,MAX), (3768545317876662272,MIN,MIN ; 3768545317876662272,MAX,MAX), (3768598094434795520,MIN,MIN ; 3768598094434795520,
      MAX,MAX), (3768668463178973184,MIN,MIN ; 3768668463178973184,MAX,MAX), (3768386988202262528,MIN,MIN ; 3768386988202262528,MAX,MAX), (3769512888109105152,
      MIN,MIN ; 3769512888109105152,MAX,MAX), (3765009288481734656,MIN,MIN ; 3765009288481734656,MAX,MAX), (3819052484010180608,MIN,MIN ; 3819052484010180608,
      MAX,MAX), (3746994889972252672,MIN,MIN ; 3746994889972252672,MAX,MAX), (3458764513820540928,MIN,MIN ; 3458764513820540928,MAX,MAX), (3768553615686369280,
      MIN,MIN ; 3768553615686369280,MAX,MAX), (3768553615870918656,MIN,MIN ; 3768553615870918656,MAX,MAX), (3768553615820587008,MIN,MIN ; 3768553615820587008,
      MAX,MAX), (3768553616021913600,MIN,MIN ; 3768553616021913600,MAX,MAX), (3768553616827219968,MIN,MIN ; 3768553616827219968,MAX,MAX), (3768553620048445440,
      MIN,MIN ; 3768553620048445440,MAX,MAX), (3768553615954804736,MIN,MIN ; 3768553615954804736,MAX,MAX), (3768553615938027520,MIN,MIN ; 3768553615938027520,
      MAX,MAX), (3768553615971581952,MIN,MIN ; 3768553615971581952,MAX,MAX), (3768553616642670592,MIN,MIN ; 3768553616642670592,MAX,MAX), (3768553616625893376,
      MIN,MIN ; 3768553616625893376,MAX,MAX), (3768553616558784512,MIN,MIN ; 3768553616558784512,MAX,MAX), (3768553616760111104,MIN,MIN ; 3768553616760111104,
      MAX,MAX), (3768553616776888320,MIN,MIN ; 3768553616776888320,MAX,MAX), (3768553616894328832,MIN,MIN ; 3768553616894328832,MAX,MAX), (3768553617095655424,
      MIN,MIN ; 3768553617095655424,MAX,MAX), (3768553617028546560,MIN,MIN ; 3768553617028546560,MAX,MAX), (3768553617045323776,MIN,MIN ; 3768553617045323776,
      MAX,MAX), (3768553622263037952,MIN,MIN ; 3768553622263037952,MAX,MAX), (3768553622464364544,MIN,MIN ; 3768553622464364544,MAX,MAX), (3768553623269670912,
      MIN,MIN ; 3768553623269670912,MAX,MAX), (3768553622258843648,MIN,MIN ; 3768553622258843648,MAX,MAX), (3768553622246260736,MIN,MIN ; 3768553622246260736,
      MAX,MAX), (3768553622397255680,MIN,MIN ; 3768553622397255680,MAX,MAX), (3768553622531473408,MIN,MIN ; 3768553622531473408,MAX,MAX), (3768553622665691136,
      MIN,MIN ; 3768553622665691136,MAX,MAX), (3768553622799908864,MIN,MIN ; 3768553622799908864,MAX,MAX), (3768553623001235456,MIN,MIN ; 3768553623001235456,
      MAX,MAX), (3768553623202562048,MIN,MIN ; 3768553623202562048,MAX,MAX), (3768553623252893696,MIN,MIN ; 3768553623252893696,MAX,MAX), (3768553643201003520,
      MIN,MIN ; 3768553643201003520,MAX,MAX), (3768553643402330112,MIN,MIN ; 3768553643402330112,MAX,MAX), (3768553642597023744,MIN,MIN ; 3768553642597023744,
      MAX,MAX), (3768553645818249216,MIN,MIN ; 3768553645818249216,MAX,MAX), (3768553650113216512,MIN,MIN ; 3768553650113216512,MAX,MAX), (3768553643808129024,
      MIN,MIN ; 3768553643808129024,MAX,MAX), (3768553643809177600,MIN,MIN ; 3768553643809177600,MAX,MAX), (3768553643821760512,MIN,MIN ; 3768553643821760512,
      MAX,MAX), (3768553643872092160,MIN,MIN ; 3768553643872092160,MAX,MAX), (3768553643939201024,MIN,MIN ; 3768553643939201024,MAX,MAX), (3768553644744507392,
      MIN,MIN ; 3768553644744507392,MAX,MAX), (3768553615585705985,MIN,MIN ; 3768553615619260415,MAX,MAX), (3768553615619260417,MIN,MIN ; 3768553615652814847,
      MAX,MAX), (3768553615854141441,MIN,MIN ; 3768553615862530047,MAX,MAX), (3768553615879307265,MIN,MIN ; 3768553615887695871,MAX,MAX), (3768553615887695873,
      MIN,MIN ; 3768553615921250303,MAX,MAX), (3768553615946416129,MIN,MIN ; 3768553615954804735,MAX,MAX), (3768553615954804737,MIN,MIN ; 3768553615963193343,
      MAX,MAX), (3768553615979970561,MIN,MIN ; 3768553615988359167,MAX,MAX), (3768553615988359169,MIN,MIN ; 3768553616021913599,MAX,MAX), (3768553616021913601,
      MIN,MIN ; 3768553616156131327,MAX,MAX), (3768553616642670593,MIN,MIN ; 3768553616651059199,MAX,MAX), (3768553616651059201,MIN,MIN ; 3768553616659447807,
      MAX,MAX), (3768553616659447809,MIN,MIN ; 3768553616693002239,MAX,MAX), (3768553616693002241,MIN,MIN ; 3768553616726556671,MAX,MAX), (3768553616785276929,
      MIN,MIN ; 3768553616793665535,MAX,MAX), (3768553616793665537,MIN,MIN ; 3768553616827219967,MAX,MAX), (3768553616827219969,MIN,MIN ; 3768553616860774399,
      MAX,MAX), (3768553616927883265,MIN,MIN ; 3768553616961437695,MAX,MAX), (3768553616961437697,MIN,MIN ; 3768553616994992127,MAX,MAX), (3768553616994992129,
      MIN,MIN ; 3768553617028546559,MAX,MAX), (3768553617036935169,MIN,MIN ; 3768553617045323775,MAX,MAX), (3768553622195929089,MIN,MIN ; 3768553622229483519,
      MAX,MAX), (3768553622260940801,MIN,MIN ; 3768553622263037951,MAX,MAX), (3768553622263037953,MIN,MIN ; 3768553622296592383,MAX,MAX), (3768553622296592385,
      MIN,MIN ; 3768553622330146815,MAX,MAX), (3768553622430810113,MIN,MIN ; 3768553622464364543,MAX,MAX), (3768553622464364545,MIN,MIN ; 3768553622497918975,
      MAX,MAX), (3768553622565027841,MIN,MIN ; 3768553622598582271,MAX,MAX), (3768553622598582273,MIN,MIN ; 3768553622632136703,MAX,MAX), (3768553622632136705,
      MIN,MIN ; 3768553622665691135,MAX,MAX), (3768553622766354433,MIN,MIN ; 3768553622799908863,MAX,MAX), (3768553623001235457,MIN,MIN ; 3768553623135453183,
      MAX,MAX), (3768553623135453185,MIN,MIN ; 3768553623169007615,MAX,MAX), (3768553623169007617,MIN,MIN ; 3768553623202562047,MAX,MAX), (3768553623202562049,
      MIN,MIN ; 3768553623236116479,MAX,MAX), (3768553623244505089,MIN,MIN ; 3768553623252893695,MAX,MAX), (3768553643167449089,MIN,MIN ; 3768553643201003519,
      MAX,MAX), (3768553643201003521,MIN,MIN ; 3768553643234557951,MAX,MAX), (3768553643536547841,MIN,MIN ; 3768553643670765567,MAX,MAX), (3768553643807604737,
      MIN,MIN ; 3768553643808129023,MAX,MAX), (3768553643830149121,MIN,MIN ; 3768553643838537727,MAX,MAX)
select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'));
id	st_astext(unit_range)
3	LINESTRING(30.320965261625222 120.3490426718936,30.320965261625222 120.34904267189361)
6	MULTIPOLYGON(((30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895,30.32111818926693 120.35612237865006,30.32080062911392 120.35460911503478,30.320800629134425 120.3546091159729,30.320965261625222 120.34904267189361)))
1	POINT(30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
5	LINESTRING(30.320965261625222 120.3490426718936,30.320800629134425 120.3490426718936)
select id, st_astext(unit_range) from receivable_items where _ST_covers(ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'), unit_range);
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
select id, st_astext(unit_range) from receivable_items ignore index(idx_unit_range) where ST_Intersects(unit_range, ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'));
id	st_astext(unit_range)
3	LINESTRING(30.320965261625222 120.3490426718936,30.320965261625222 120.34904267189361)
6	MULTIPOLYGON(((30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895,30.32111818926693 120.35612237865006,30.32080062911392 120.35460911503478,30.320800629134425 120.3546091159729,30.320965261625222 120.34904267189361)))
1	POINT(30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
5	LINESTRING(30.320965261625222 120.3490426718936,30.320800629134425 120.3490426718936)
select id, st_astext(unit_range) from receivable_items ignore index(idx_unit_range) where _ST_covers(ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'), unit_range);
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('GEOMETRYCOLLECTION(MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222))),POLYGON ((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)),multipoint(120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693),point(120.31601198353063 30.243673482839302))',4326, 'axis-order=long-lat'));
id	st_astext(unit_range)
3	LINESTRING(30.320965261625222 120.3490426718936,30.320965261625222 120.34904267189361)
6	MULTIPOLYGON(((30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895,30.32111818926693 120.35612237865006,30.32080062911392 120.35460911503478,30.320800629134425 120.3546091159729,30.320965261625222 120.34904267189361)))
1	POINT(30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
2	POINT(30.320965261625222 120.3490426718936)
5	LINESTRING(30.320965261625222 120.3490426718936,30.320800629134425 120.3490426718936)
8	GEOMETRYCOLLECTION(MULTIPOLYGON(((30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.243634005580816 120.31599964855097)),((30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.24367573874217 120.31601159806742,30.243635469782166 120.3160009095347))),POLYGON((30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.243634005580816 120.31599964855097)),LINESTRING(30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347),MULTIPOINT((30.243634005580816 120.31599964855097),(30.243635469782166 120.3160009095347),(30.24364742764055 120.31600747846684)),POINT(30.243634005580816 120.31599964855097))
drop index idx_unit_range on receivable_items;
create SPATIAL index if not exists `idx_unit_range` on `receivable_items` (`unit_range`);
explain select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'));
Query Plan
=====================================================================================
|ID|OPERATOR                 |NAME                            |EST.ROWS|EST.TIME(us)|
-------------------------------------------------------------------------------------
|0 |PX COORDINATOR           |                                |1       |1289        |
|1 |EXCHANGE OUT DISTR     |:EX10000                        |1       |1289        |
|2 |  PX PARTITION ITERATOR|                                |1       |1288        |
|3 |    TABLE RANGE SCAN   |receivable_items(idx_unit_range)|1       |1288        |
=====================================================================================
Outputs & filters:
-------------------------------------
  0 - output([INTERNAL_FUNCTION(receivable_items.id, st_astext(receivable_items.unit_range))]), filter(nil)
  1 - output([INTERNAL_FUNCTION(receivable_items.id, st_astext(receivable_items.unit_range))]), filter(nil)
      dop=1
  2 - output([receivable_items.id], [receivable_items.unit_range]), filter(nil)
      force partition granule
  3 - output([receivable_items.id], [receivable_items.unit_range]), filter([ST_Intersects(receivable_items.unit_range, ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 
      30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 
      30.320800629134425,  120.34904267189361 30.320965261625222)))', 4326, 'axis-order=long-lat'))])
      access([receivable_items.id], [receivable_items.unit_range]), partitions(p[0-2])
      is_index_back=true, is_global_index=false, filter_before_indexback[false], 
      range_key([receivable_items.__cellid_18], [receivable_items.__mbr_18], [receivable_items.id]), range(3768553615552151552,MIN,MIN ; 3768553615552151552,
      MAX,MAX), (3768553615485042688,MIN,MIN ; 3768553615485042688,MAX,MAX), (3768553614679736320,MIN,MIN ; 3768553614679736320,MAX,MAX), (3768553611458510848,
      MIN,MIN ; 3768553611458510848,MAX,MAX), (3768553615753478144,MIN,MIN ; 3768553615753478144,MAX,MAX), (3768553632933347328,MIN,MIN ; 3768553632933347328,
      MAX,MAX), (3768553839091777536,MIN,MIN ; 3768553839091777536,MAX,MAX), (3768553014458056704,MIN,MIN ; 3768553014458056704,MAX,MAX), (3768549715923173376,
      MIN,MIN ; 3768549715923173376,MAX,MAX), (3768545317876662272,MIN,MIN ; 3768545317876662272,MAX,MAX), (3768598094434795520,MIN,MIN ; 3768598094434795520,
      MAX,MAX), (3768668463178973184,MIN,MIN ; 3768668463178973184,MAX,MAX), (3768386988202262528,MIN,MIN ; 3768386988202262528,MAX,MAX), (3769512888109105152,
      MIN,MIN ; 3769512888109105152,MAX,MAX), (3765009288481734656,MIN,MIN ; 3765009288481734656,MAX,MAX), (3819052484010180608,MIN,MIN ; 3819052484010180608,
      MAX,MAX), (3746994889972252672,MIN,MIN ; 3746994889972252672,MAX,MAX), (3458764513820540928,MIN,MIN ; 3458764513820540928,MAX,MAX), (3768553615686369280,
      MIN,MIN ; 3768553615686369280,MAX,MAX), (3768553615870918656,MIN,MIN ; 3768553615870918656,MAX,MAX), (3768553615820587008,MIN,MIN ; 3768553615820587008,
      MAX,MAX), (3768553616021913600,MIN,MIN ; 3768553616021913600,MAX,MAX), (3768553616827219968,MIN,MIN ; 3768553616827219968,MAX,MAX), (3768553620048445440,
      MIN,MIN ; 3768553620048445440,MAX,MAX), (3768553615954804736,MIN,MIN ; 3768553615954804736,MAX,MAX), (3768553615938027520,MIN,MIN ; 3768553615938027520,
      MAX,MAX), (3768553615971581952,MIN,MIN ; 3768553615971581952,MAX,MAX), (3768553616642670592,MIN,MIN ; 3768553616642670592,MAX,MAX), (3768553616625893376,
      MIN,MIN ; 3768553616625893376,MAX,MAX), (3768553616558784512,MIN,MIN ; 3768553616558784512,MAX,MAX), (3768553616760111104,MIN,MIN ; 3768553616760111104,
      MAX,MAX), (3768553616776888320,MIN,MIN ; 3768553616776888320,MAX,MAX), (3768553616894328832,MIN,MIN ; 3768553616894328832,MAX,MAX), (3768553617095655424,
      MIN,MIN ; 3768553617095655424,MAX,MAX), (3768553617028546560,MIN,MIN ; 3768553617028546560,MAX,MAX), (3768553617045323776,MIN,MIN ; 3768553617045323776,
      MAX,MAX), (3768553622263037952,MIN,MIN ; 3768553622263037952,MAX,MAX), (3768553622464364544,MIN,MIN ; 3768553622464364544,MAX,MAX), (3768553623269670912,
      MIN,MIN ; 3768553623269670912,MAX,MAX), (3768553622258843648,MIN,MIN ; 3768553622258843648,MAX,MAX), (3768553622246260736,MIN,MIN ; 3768553622246260736,
      MAX,MAX), (3768553622397255680,MIN,MIN ; 3768553622397255680,MAX,MAX), (3768553622531473408,MIN,MIN ; 3768553622531473408,MAX,MAX), (3768553622665691136,
      MIN,MIN ; 3768553622665691136,MAX,MAX), (3768553622799908864,MIN,MIN ; 3768553622799908864,MAX,MAX), (3768553623001235456,MIN,MIN ; 3768553623001235456,
      MAX,MAX), (3768553623202562048,MIN,MIN ; 3768553623202562048,MAX,MAX), (3768553623252893696,MIN,MIN ; 3768553623252893696,MAX,MAX), (3768553643201003520,
      MIN,MIN ; 3768553643201003520,MAX,MAX), (3768553643402330112,MIN,MIN ; 3768553643402330112,MAX,MAX), (3768553642597023744,MIN,MIN ; 3768553642597023744,
      MAX,MAX), (3768553645818249216,MIN,MIN ; 3768553645818249216,MAX,MAX), (3768553650113216512,MIN,MIN ; 3768553650113216512,MAX,MAX), (3768553643808129024,
      MIN,MIN ; 3768553643808129024,MAX,MAX), (3768553643809177600,MIN,MIN ; 3768553643809177600,MAX,MAX), (3768553643821760512,MIN,MIN ; 3768553643821760512,
      MAX,MAX), (3768553643872092160,MIN,MIN ; 3768553643872092160,MAX,MAX), (3768553643939201024,MIN,MIN ; 3768553643939201024,MAX,MAX), (3768553644744507392,
      MIN,MIN ; 3768553644744507392,MAX,MAX), (3768553615585705985,MIN,MIN ; 3768553615619260415,MAX,MAX), (3768553615619260417,MIN,MIN ; 3768553615652814847,
      MAX,MAX), (3768553615854141441,MIN,MIN ; 3768553615862530047,MAX,MAX), (3768553615879307265,MIN,MIN ; 3768553615887695871,MAX,MAX), (3768553615887695873,
      MIN,MIN ; 3768553615921250303,MAX,MAX), (3768553615946416129,MIN,MIN ; 3768553615954804735,MAX,MAX), (3768553615954804737,MIN,MIN ; 3768553615963193343,
      MAX,MAX), (3768553615979970561,MIN,MIN ; 3768553615988359167,MAX,MAX), (3768553615988359169,MIN,MIN ; 3768553616021913599,MAX,MAX), (3768553616021913601,
      MIN,MIN ; 3768553616156131327,MAX,MAX), (3768553616642670593,MIN,MIN ; 3768553616651059199,MAX,MAX), (3768553616651059201,MIN,MIN ; 3768553616659447807,
      MAX,MAX), (3768553616659447809,MIN,MIN ; 3768553616693002239,MAX,MAX), (3768553616693002241,MIN,MIN ; 3768553616726556671,MAX,MAX), (3768553616785276929,
      MIN,MIN ; 3768553616793665535,MAX,MAX), (3768553616793665537,MIN,MIN ; 3768553616827219967,MAX,MAX), (3768553616827219969,MIN,MIN ; 3768553616860774399,
      MAX,MAX), (3768553616927883265,MIN,MIN ; 3768553616961437695,MAX,MAX), (3768553616961437697,MIN,MIN ; 3768553616994992127,MAX,MAX), (3768553616994992129,
      MIN,MIN ; 3768553617028546559,MAX,MAX), (3768553617036935169,MIN,MIN ; 3768553617045323775,MAX,MAX), (3768553622195929089,MIN,MIN ; 3768553622229483519,
      MAX,MAX), (3768553622260940801,MIN,MIN ; 3768553622263037951,MAX,MAX), (3768553622263037953,MIN,MIN ; 3768553622296592383,MAX,MAX), (3768553622296592385,
      MIN,MIN ; 3768553622330146815,MAX,MAX), (3768553622430810113,MIN,MIN ; 3768553622464364543,MAX,MAX), (3768553622464364545,MIN,MIN ; 3768553622497918975,
      MAX,MAX), (3768553622565027841,MIN,MIN ; 3768553622598582271,MAX,MAX), (3768553622598582273,MIN,MIN ; 3768553622632136703,MAX,MAX), (3768553622632136705,
      MIN,MIN ; 3768553622665691135,MAX,MAX), (3768553622766354433,MIN,MIN ; 3768553622799908863,MAX,MAX), (3768553623001235457,MIN,MIN ; 3768553623135453183,
      MAX,MAX), (3768553623135453185,MIN,MIN ; 3768553623169007615,MAX,MAX), (3768553623169007617,MIN,MIN ; 3768553623202562047,MAX,MAX), (3768553623202562049,
      MIN,MIN ; 3768553623236116479,MAX,MAX), (3768553623244505089,MIN,MIN ; 3768553623252893695,MAX,MAX), (3768553643167449089,MIN,MIN ; 3768553643201003519,
      MAX,MAX), (3768553643201003521,MIN,MIN ; 3768553643234557951,MAX,MAX), (3768553643536547841,MIN,MIN ; 3768553643670765567,MAX,MAX), (3768553643807604737,
      MIN,MIN ; 3768553643808129023,MAX,MAX), (3768553643830149121,MIN,MIN ; 3768553643838537727,MAX,MAX)
select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'));
id	st_astext(unit_range)
3	LINESTRING(30.320965261625222 120.3490426718936,30.320965261625222 120.34904267189361)
6	MULTIPOLYGON(((30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895,30.32111818926693 120.35612237865006,30.32080062911392 120.35460911503478,30.320800629134425 120.3546091159729,30.320965261625222 120.34904267189361)))
1	POINT(30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
5	LINESTRING(30.320965261625222 120.3490426718936,30.320800629134425 120.3490426718936)
select id, st_astext(unit_range) from receivable_items where _ST_covers(ST_GeomFromText('MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)))',4326, 'axis-order=long-lat'), unit_range);
id	st_astext(unit_range)
1	POINT(30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
select id, st_astext(unit_range) from receivable_items where ST_Intersects(unit_range, ST_GeomFromText('GEOMETRYCOLLECTION(MULTIPOLYGON (((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222))),POLYGON ((120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693, 120.35460911503478 30.32080062911392, 120.3546091159729 30.320800629134425,  120.34904267189361 30.320965261625222)),multipoint(120.34904267189361 30.320965261625222, 120.35612237862895 30.321118189268013, 120.35612237865006 30.32111818926693),point(120.31601198353063 30.243673482839302))',4326, 'axis-order=long-lat'));
id	st_astext(unit_range)
3	LINESTRING(30.320965261625222 120.3490426718936,30.320965261625222 120.34904267189361)
6	MULTIPOLYGON(((30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895,30.32111818926693 120.35612237865006,30.32080062911392 120.35460911503478,30.320800629134425 120.3546091159729,30.320965261625222 120.34904267189361)))
1	POINT(30.320965261625222 120.34904267189361)
4	LINESTRING(30.320965261625222 120.34904267189361,30.321118189268013 120.35612237862895)
2	POINT(30.320965261625222 120.3490426718936)
5	LINESTRING(30.320965261625222 120.3490426718936,30.320800629134425 120.3490426718936)
8	GEOMETRYCOLLECTION(MULTIPOLYGON(((30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.243634005580816 120.31599964855097)),((30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.24367573874217 120.31601159806742,30.243635469782166 120.3160009095347))),POLYGON((30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347,30.24364742764055 120.31600747846684,30.243660263421923 120.31601121779788,30.243673482839302 120.31601198353063,30.243634005580816 120.31599964855097)),LINESTRING(30.243634005580816 120.31599964855097,30.243635469782166 120.3160009095347),MULTIPOINT((30.243634005580816 120.31599964855097),(30.243635469782166 120.3160009095347),(30.24364742764055 120.31600747846684)),POINT(30.243634005580816 120.31599964855097))
alter table receivable_items modify `unit_range` geometry GENERATED ALWAYS AS (st_geomfromtext(geo_text, 4326, 'axis-order=long-lat')) NOT NULL srid 4326;
ERROR 22004: Invalid use of NULL value
alter table receivable_items modify `unit_range` geometry GENERATED ALWAYS AS (st_geomfromtext(geo_text, 4326, 'axis-order=long-lat')) srid 4326;
ERROR HY000: 'Changing the STORED status' is not supported for generated columns.
alter table receivable_items modify `unit_range` geometry GENERATED ALWAYS AS (st_geomfromtext(geo_text, 4326)) STORED srid 4326;
ERROR 0A000: Modify generated column definition not supported
alter table receivable_items modify `unit_range` geometry GENERATED ALWAYS AS (st_geomfromtext(geo_text, 4326, 'axis-order=long-lat')) srid 0;
ERROR 0A000: alter geometry srid not supported
drop table receivable_items;
