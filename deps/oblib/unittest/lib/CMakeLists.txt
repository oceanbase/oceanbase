# oblib_addtest(alloc/alloc_trace.cpp)
# oblib_addtest(allocator/test_buddy_allocator.cpp)
# oblib_addtest(allocator/test_lf_fifo_allocator.cpp
# oblib_addtest(hash/test_concurrent_hash_map_with_hazard_value.cpp)
# oblib_addtest(thread_local/test_itid.cpp)
# oblib_addtest(time/test_ob_time_utility.cpp)
# oblib_addtest(timezone/test_ob_timezone_utils.cpp)
oblib_addtest(parquet/test_parquet.cpp)
# oblib_addtest(orc/test_orc.cpp)
oblib_addtest(alloc/test_alloc_struct.cpp)
oblib_addtest(alloc/test_block_set.cpp)
oblib_addtest(alloc/test_chunk_mgr.cpp)
oblib_addtest(alloc/test_malloc_hook.cpp malloc_hook)
oblib_addtest(alloc/test_malloc_allocator.cpp)
oblib_addtest(alloc/test_malloc_allocator_new.cpp)
oblib_addtest(alloc/test_object_mgr.cpp)
oblib_addtest(alloc/test_object_set_v2.cpp)
oblib_addtest(alloc/test_object_set.cpp)
oblib_addtest(alloc/test_tenant_ctx_allocator.cpp)
oblib_addtest(alloc/test_ob_malloc_callback_guard.cpp)
oblib_addtest(allocator/test_allocator.cpp)
oblib_addtest(allocator/test_concurrent_fifo_allocator.cpp)
oblib_addtest(allocator/test_fifo.cpp)
#oblib_addtest(allocator/test_fixed_size_block_allocator.cpp)
oblib_addtest(allocator/test_page_arena.cpp)
oblib_addtest(allocator/test_slice_alloc.cpp)
oblib_addtest(allocator/test_sql_arena_allocator.cpp)
oblib_addtest(atomic/test_atomic_reference.cpp)
oblib_addtest(charset/test_charset.cpp)
oblib_addtest(checksum/test_crc64.cpp)
oblib_addtest(container/ob_2d_array_test.cpp)
oblib_addtest(container/ob_array_test.cpp)
oblib_addtest(container/ob_heap_test.cpp)
oblib_addtest(container/ob_se_array_test.cpp)
oblib_addtest(container/test_array_helper.cpp)
oblib_addtest(container/test_bit_set.cpp)
oblib_addtest_simd(container/test_bitmap.cpp)
oblib_addtest(container/test_concurrent_bitset.cpp)
#oblib_addtest(container/test_ext_ring_buffer.cpp)
oblib_addtest(container/test_iarray.cpp)
oblib_addtest(container/test_loser_tree.cpp)
oblib_addtest(container/test_paringheap.cpp)
oblib_addtest(container/test_rbtree.cpp)
#oblib_addtest(container/test_ring_buffer.cpp)
oblib_addtest(container/test_array_array.cpp)
oblib_addtest(coro/bench_local_storage.cpp)
#oblib_addtest(coro/test_co_var.cpp)
#oblib_addtest(hash/test_hash_algorithm_performance.cpp)
oblib_addtest(hash/hash_benz.cpp)
oblib_addtest(hash/test_array_index_hash_set.cpp)
oblib_addtest(hash/test_build_in_hashmap.cpp)
oblib_addtest(hash/test_concurrent_hash_map.cpp)
oblib_addtest(hash/test_cuckoo_hashmap.cpp)
oblib_addtest(hash/test_hashmap.cpp)
oblib_addtest(hash/test_fnv_hash.cpp)
oblib_addtest(hash/test_hashset.cpp)
oblib_addtest(hash/test_hashutils.cpp)
oblib_addtest(hash/test_iteratable_hashmap.cpp)
oblib_addtest(hash/test_iteratable_hashset.cpp)
oblib_addtest(hash/test_link_hashmap.cpp)
oblib_addtest(hash/test_linear_hash_map.cpp)
oblib_addtest(hash/test_placement_hashset.cpp)
oblib_addtest(hash/test_pointer_hashmap.cpp)
oblib_addtest(hash/test_simpleallocer.cpp)
oblib_addtest(json/test_json_print_utils.cpp)
oblib_addtest(json/test_yson.cpp)
oblib_addtest(list/test_dlist.cpp)
oblib_addtest(lock/test_bucket_lock.cpp)
oblib_addtest(lock/test_latch.cpp)
#oblib_addtest(lock/test_scond.cpp)
oblib_addtest(lock/test_thread_cond.cpp)
oblib_addtest(lock/test_qsync_lock.cpp)
oblib_addtest(metrics/test_ema_v2.cpp)
oblib_addtest(metrics/test_ob_accumulator.cpp)
oblib_addtest(net/test_ob_addr.cpp)
oblib_addtest(net/test_ob_net_util.cpp)
#oblib_addtest(number/test_number_v2.cpp)
#oblib_addtest(oblog/test_base_log_buffer.cpp)
oblib_addtest(oblog/test_base_log_writer.cpp)
oblib_addtest(oblog/test_ob_log_compressor.cpp)
oblib_addtest(oblog/test_ob_log_dba.cpp)
oblib_addtest(oblog/test_ob_log_obj.cpp)
oblib_addtest(oblog/test_ob_log_performance.cpp)
oblib_addtest(profile/test_ob_trace_id.cpp)
oblib_addtest(profile/test_perf_event.cpp)
oblib_addtest(queue/test_lighty_queue.cpp)
oblib_addtest(queue/test_fixed_queue.cpp)
oblib_addtest(queue/test_link_queue.cpp)
oblib_addtest(queue/test_priority_queue.cpp)
oblib_addtest(random/test_mysql_random.cpp)
oblib_addtest(random/test_random.cpp)
oblib_addtest(rc/test_context.cpp)
oblib_addtest(resource/test_resource_mgr.cpp)
oblib_addtest(resource/test_resource_limiter.cpp)
#oblib_addtest(restore/test_storage_file.cpp)
#oblib_addtest(restore/test_storage_oss.cpp)
#oblib_addtest(restore/test_storage_cos.cpp)
#oblib_addtest(restore/test_storage_s3.cpp)
# oblib_addtest(restore/test_object_storage.cpp)
# oblib_addtest(restore/test_common_storage.cpp)
#oblib_addtest(restore/test_storage_info.cpp)
#oblib_addtest(restore/test_storage.cpp)
oblib_addtest(stat/test_diagnostic_info.cpp)
oblib_addtest(string/test_fixed_length_string.cpp)
oblib_addtest(task/test_timer.cpp)
oblib_addtest(task/test_cancel_task.cpp)
oblib_addtest(test_fixed_array.cpp)
oblib_addtest(test_worker.cpp)
oblib_addtest(test_work_queue.cpp)
oblib_addtest(thread/test_dynamic_thread_pool.cpp)
oblib_addtest(thread/test_simple_thread_pool.cpp)
oblib_addtest(thread/test_tg_mgr.cpp)
oblib_addtest(thread/test_thread_lease.cpp)
oblib_addtest(thread/test_thread_pool.cpp)
oblib_addtest(thread/test_threads.cpp)
#oblib_addtest(thread/test_protected_stack_allocator.cpp)
oblib_addtest(time/test_ob_tsc_timestamp.cpp)
oblib_addtest(time/test_ob_time_utility.cpp)
oblib_addtest(timezone/test_ob_time_convert.cpp)
oblib_addtest(trace/test_trace.cpp)
oblib_addtest(trace/test_trace_event.cpp)
oblib_addtest(utility/test_ob_unify_serialize.cpp)
oblib_addtest(utility/test_print_utils.cpp)
oblib_addtest(utility/test_simple_rate_limiter.cpp)
oblib_addtest(utility/test_sample_rate_limiter.cpp)
oblib_addtest(utility/test_utility.cpp)
oblib_addtest(wait_event/test_wait_event.cpp)
oblib_addtest(utility/test_fast_convert.cpp)
oblib_addtest(utility/test_defer.cpp)
oblib_addtest(hash/test_ob_ref_mgr.cpp)
oblib_addtest(compress/test_compressor.cpp)

##codec
oblib_addtest(codec/test_composite.cpp)
oblib_addtest(codec/test_fast_delta.cpp)
oblib_addtest(codec/test_bitpacking.cpp)
oblib_addtest(codec/test_codec_performance.cpp)
oblib_addtest(codec/test_bitpacking_performance.cpp)
oblib_addtest(compress/test_compressor_pool.cpp)

if (NOT OB_BUILD_OPENSOURCE)
  add_subdirectory(allocator_new)
  add_subdirectory(benchmark)
endif()
